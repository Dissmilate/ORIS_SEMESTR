"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{96434:function(e,n,t){t.d(n,{B:function(){return a},H5:function(){return d},It:function(){return p},NX:function(){return u},QK:function(){return T},RP:function(){return g},Ub:function(){return h},Xd:function(){return S},a$:function(){return v},df:function(){return C},gh:function(){return w},hA:function(){return _},mL:function(){return k},nP:function(){return b},s9:function(){return m}});var r=t(4472),i=t(6288),o=t(34778);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){const t=(0,i.w6)(1),r=s(s({},n),{},{_meta:t});e.trackEvent("Selection.Showed",r)}function p(e,n){const t=(0,i.w6)(1),r=s(s({},n),{},{_meta:t});e.trackEvent("Selection.ErrorRaised",r)}let u,l,d,f,y;function h(e,n){const{priceAndCurrency:t="notTransactional",badgeType:r=o.ez.NoBadge,badgeRent:c=o.ZE.NoBadgeRent}=n,a=(0,i.w6)(5,{impressionMLSelectionItem:{version:1}}),p=s(s({},n),{},{priceAndCurrency:t,badgeType:r,badgeRent:c,eventType:"impression",eventSubtype:"selectionItem",actionType:"click",page:"SelectionScreen",uuidType:"ott",from:"selection_screen",_meta:a});e.trackEvent("Selection.MovieImpression.Navigated",p)}function v(e,n){const{priceAndCurrency:t="notTransactional",badgeType:r=o.ez.NoBadge,badgeRent:c=o.ZE.NoBadgeRent}=n,a=(0,i.w6)(2,{impressionMLSelectionItem:{version:1}}),p=s(s({},n),{},{priceAndCurrency:t,badgeType:r,badgeRent:c,eventType:"impression",eventSubtype:"selectionItem",actionType:"show",page:"SelectionScreen",uuidType:"ott",_meta:a});e.trackEvent("Selection.MovieImpressionWithCard.Showed",p)}function b(e,n){const{priceAndCurrency:t="notTransactional",badgeType:r=o.ez.NoBadge,badgeRent:c=o.ZE.NoBadgeRent}=n,a=(0,i.w6)(2,{impressionMLSelectionItem:{version:1}}),p=s(s({},n),{},{priceAndCurrency:t,badgeType:r,badgeRent:c,eventType:"impression",eventSubtype:"selectionItem",actionType:"click",page:"SelectionScreen",uuidType:"ott",from:"selection_screen",_meta:a});e.trackEvent("Selection.MovieImpressionWithCard.Navigated",p)}function g(e,n){const{priceAndCurrency:t="notTransactional",badgeType:r=o.ez.NoBadge,badgeRent:c=o.ZE.NoBadgeRent}=n,a=(0,i.w6)(2,{impressionMLSelectionItem:{version:1}}),p=s(s({},n),{},{priceAndCurrency:t,badgeType:r,badgeRent:c,eventType:"impression",eventSubtype:"selectionItem",actionType:"click",page:"SelectionScreen",uuidType:"ott",_meta:a});e.trackEvent("Selection.MovieImpressionWithCard.Selected",p)}function S(e,n){const{priceAndCurrency:t="notTransactional",badgeType:r=o.ez.NoBadge,badgeRent:c=o.ZE.NoBadgeRent}=n,a=(0,i.w6)(2,{impressionMLSelectionItem:{version:1}}),p=s(s({},n),{},{priceAndCurrency:t,badgeType:r,badgeRent:c,eventType:"impression",eventSubtype:"selectionItem",actionType:"marked",page:"SelectionScreen",uuidType:"ott",_meta:a});e.trackEvent("Selection.MovieImpressionWithCard.Marked",p)}function m(e,n){const t=(0,i.w6)(1,{offerSubscriptionWithContent:{version:3}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"show",page:"SelectionScreen",monetizationModel:"SVOD",_meta:t});e.trackEvent("Selection.SubscriptionOffer.Showed",r)}function _(e,n){const t=(0,i.w6)(1,{offerSubscriptionWithContent:{version:3}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"click",page:"SelectionScreen",monetizationModel:"SVOD",to:"payment",from:"selection_screen",_meta:t});e.trackEvent("Selection.SubscriptionOffer.Navigated",r)}function k(e,n){const t=(0,i.w6)(1,{offerSubscriptionWithContent:{version:3}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"successfulPurchase",page:"SelectionScreen",monetizationModel:"SVOD",_meta:t});e.trackEvent("Selection.SubscriptionOffer.Succeed",r)}function w(e,n){const t=(0,i.w6)(1,{offerTransaction:{version:2}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"transaction",actionType:"show",page:"SelectionScreen",_meta:t});e.trackEvent("Selection.TransactionOffer.Showed",r)}function T(e,n){const t=(0,i.w6)(1,{offerTransaction:{version:2}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"transaction",actionType:"click",page:"SelectionScreen",to:"payment",from:"selection_screen",_meta:t});e.trackEvent("Selection.TransactionOffer.Navigated",r)}function C(e,n){const t=(0,i.w6)(1,{offerTransaction:{version:2}}),r=s(s({},n),{},{eventType:"offer",eventSubtype:"transaction",actionType:"successfulPurchase",page:"SelectionScreen",_meta:t});e.trackEvent("Selection.TransactionOffer.Succeed",r)}!function(e){e.MovieCardScreen="movie_card_screen",e.PlayerScreen="player_screen",e.ChannelPaywall="channel_paywall"}(u||(u={})),function(e){e.MovieCardScreen="movie_card_screen",e.PlayerScreen="player_screen",e.TrailerPlayerScreen="trailer_player_screen",e.KinopoiskMovieCard="kinopoisk_movie_card"}(l||(l={})),function(e){e.MovieCardScreen="movie_card_screen",e.PlayerScreen="player_screen",e.TrailerPlayerScreen="trailer_player_screen",e.KinopoiskMovieCard="kinopoisk_movie_card",e.Payment="payment"}(d||(d={})),function(e){e.MovieCardScreen="movie_card_screen",e.PlayerScreen="player_screen",e.TrailerPlayerScreen="trailer_player_screen",e.KinopoiskMovieCard="kinopoisk_movie_card",e.Payment="payment"}(f||(f={})),function(e){e.MovieCardScreen="movie_card_screen",e.PlayerScreen="player_screen",e.TrailerPlayerScreen="trailer_player_screen",e.KinopoiskMovieCard="kinopoisk_movie_card",e.Payment="payment"}(y||(y={}))},34730:function(e,n,t){var r;t.d(n,{I:function(){return r}}),function(e){e.OFFLINE="offline",e.IDLE="idle",e.ATTEMPT="attempt",e.PLAYING="playing",e.ERROR="error"}(r||(r={}))},51104:function(e,n,t){var r=t(27352),i=t(43926),o=t(32064),c=(0,i.Z)((function(e,n){var t={};return(0,r.Z)(n.length,(function(){var r=e.apply(this,arguments);return(0,o.Z)(r,t)||(t[r]=n.apply(this,arguments)),t[r]}))}));n.Z=c},63391:function(e,n,t){var r=t(43926),i=t(44699),o=(0,r.Z)((function(e,n){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var t=[],r=0;r<n.length;)t.push((0,i.Z)(r,r+=e,n));return t}));n.Z=o},70395:function(e,n,t){t.d(n,{YD:function(){return f},df:function(){return d}});var r=t(37667),i=Object.defineProperty,o=(e,n,t)=>(((e,n,t)=>{n in e?i(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t})(e,"symbol"!==typeof n?n+"":n,t),t),c=new Map,s=new WeakMap,a=0,p=void 0;function u(e){return Object.keys(e).sort().filter((n=>void 0!==e[n])).map((n=>{return`${n}_${"root"===n?(t=e.root,t?(s.has(t)||(a+=1,s.set(t,a.toString())),s.get(t)):"0"):e[n]}`;var t})).toString()}function l(e,n,t={},r=p){if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return n(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:o,elements:s}=function(e){let n=u(e),t=c.get(n);if(!t){const r=new Map;let i;const o=new IntersectionObserver((n=>{n.forEach((n=>{var t;const o=n.isIntersecting&&i.some((e=>n.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=o),null==(t=r.get(n.target))||t.forEach((e=>{e(o,n)}))}))}),e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:o,elements:r},c.set(n,t)}return t}(t);let a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(n),o.observe(e),function(){a.splice(a.indexOf(n),1),0===a.length&&(s.delete(e),o.unobserve(e)),0===s.size&&(o.disconnect(),c.delete(i))}}var d=class extends r.Component{constructor(e){super(e),o(this,"node",null),o(this,"_unobserveCb",null),o(this,"handleNode",(e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()})),o(this,"handleChange",((e,n)=>{e&&this.props.triggerOnce&&this.unobserve(),function(e){return"function"!==typeof e.children}(this.props)||this.setState({inView:e,entry:n}),this.props.onChange&&this.props.onChange(e,n)})),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:n,rootMargin:t,trackVisibility:r,delay:i,fallbackInView:o}=this.props;this._unobserveCb=l(this.node,this.handleChange,{threshold:e,root:n,rootMargin:t,trackVisibility:r,delay:i},o)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if("function"===typeof e){const{inView:n,entry:t}=this.state;return e({inView:n,entry:t,ref:this.handleNode})}const{as:n,triggerOnce:t,threshold:i,root:o,rootMargin:c,onChange:s,skip:a,trackVisibility:p,delay:u,initialInView:l,fallbackInView:d,...f}=this.props;return r.createElement(n||"div",{ref:this.handleNode,...f},e)}};function f({threshold:e,delay:n,trackVisibility:t,rootMargin:i,root:o,triggerOnce:c,skip:s,initialInView:a,fallbackInView:p,onChange:u}={}){var d;const[f,y]=r.useState(null),h=r.useRef(),[v,b]=r.useState({inView:!!a,entry:void 0});h.current=u,r.useEffect((()=>{if(s||!f)return;let r;return r=l(f,((e,n)=>{b({inView:e,entry:n}),h.current&&h.current(e,n),n.isIntersecting&&c&&r&&(r(),r=void 0)}),{root:o,rootMargin:i,threshold:e,trackVisibility:t,delay:n},p),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,f,o,i,c,s,t,p,n]);const g=null==(d=v.entry)?void 0:d.target,S=r.useRef();f||!g||c||s||S.current===g||(S.current=g,b({inView:!!a,entry:void 0}));const m=[y,v.inView,v.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/hd-www/release/_next/static/chunks/715-65754573d242bae9.js.map