"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1731],{47178:function(e,t,n){n.d(t,{Ix:function(){return h},R0:function(){return c},WO:function(){return a},f4:function(){return d},kv:function(){return f},xn:function(){return p}});var i=n(4472),r=n(6288);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){const n=(0,r.w6)(3,{communicationGeneral:{version:1}}),i=s(s({},t),{},{communicationType:"show",_meta:n});e.trackEvent("Communications.Showed",i)}function a(e,t){const n=(0,r.w6)(3,{communicationGeneral:{version:1}}),i=s(s({},t),{},{communicationType:"error",_meta:n});e.trackEvent("Communications.ErrorRaised",i)}let u,l,h;function p(e,t){const n=(0,r.w6)(4,{communicationGeneral:{version:1}}),i=s(s({},t),{},{communicationType:"accept",from:"communication_screen",_meta:n});e.trackEvent("Communications.Navigated",i)}function d(e,t){const n=(0,r.w6)(3,{communicationGeneral:{version:1}}),i=s(s({},t),{},{communicationType:"reject",_meta:n});e.trackEvent("Communications.Closed",i)}function f(e,t){const n=(0,r.w6)(3,{communicationGeneral:{version:1}}),i=s(s({},t),{},{communicationType:"succeed",_meta:n});e.trackEvent("Communications.Succeed",i)}!function(e){e.Link="link"}(u||(u={})),function(e){e.Link="link",e.CommunicationScreen="communication_screen"}(l||(l={})),function(e){e.Link="link",e.CommunicationScreen="communication_screen"}(h||(h={}))},70395:function(e,t,n){n.d(t,{YD:function(){return d},df:function(){return p}});var i=n(37667),r=Object.defineProperty,o=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),s=new Map,c=new WeakMap,a=0,u=void 0;function l(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(c.has(n)||(a+=1,c.set(n,a.toString())),c.get(n)):"0"):e[t]}`;var n})).toString()}function h(e,t,n={},i=u){if("undefined"===typeof window.IntersectionObserver&&void 0!==i){const r=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:r,observer:o,elements:c}=function(e){let t=l(e),n=s.get(t);if(!n){const i=new Map;let r;const o=new IntersectionObserver((t=>{t.forEach((t=>{var n;const o=t.isIntersecting&&r.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((e=>{e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},s.set(t,n)}return n}(n);let a=c.get(e)||[];return c.has(e)||c.set(e,a),a.push(t),o.observe(e),function(){a.splice(a.indexOf(t),1),0===a.length&&(c.delete(e),o.unobserve(e)),0===c.size&&(o.disconnect(),s.delete(r))}}var p=class extends i.Component{constructor(e){super(e),o(this,"node",null),o(this,"_unobserveCb",null),o(this,"handleNode",(e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()})),o(this,"handleChange",((e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),function(e){return"function"!==typeof e.children}(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)})),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:r,fallbackInView:o}=this.props;this._unobserveCb=h(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:r},o)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if("function"===typeof e){const{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:r,root:o,rootMargin:s,onChange:c,skip:a,trackVisibility:u,delay:l,initialInView:h,fallbackInView:p,...d}=this.props;return i.createElement(t||"div",{ref:this.handleNode,...d},e)}};function d({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:s,skip:c,initialInView:a,fallbackInView:u,onChange:l}={}){var p;const[d,f]=i.useState(null),b=i.useRef(),[m,y]=i.useState({inView:!!a,entry:void 0});b.current=l,i.useEffect((()=>{if(c||!d)return;let i;return i=h(d,((e,t)=>{y({inView:e,entry:t}),b.current&&b.current(e,t),t.isIntersecting&&s&&i&&(i(),i=void 0)}),{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},u),()=>{i&&i()}}),[Array.isArray(e)?e.toString():e,d,o,r,s,c,n,u,t]);const v=null==(p=m.entry)?void 0:p.target,g=i.useRef();d||!v||s||c||g.current===v||(g.current=v,y({inView:!!a,entry:void 0}));const w=[f,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/hd-www/release/_next/static/chunks/1731-3cfc255f7e8c5dc9.js.map