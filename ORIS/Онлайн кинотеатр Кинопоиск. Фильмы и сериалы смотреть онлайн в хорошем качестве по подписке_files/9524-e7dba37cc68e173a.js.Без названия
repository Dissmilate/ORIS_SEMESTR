(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9524],{59616:function(e,n,i){"use strict";i.d(n,{A:function(){return r}});var t=i(93473);function r(){let{locale:e,query:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.n)({locale:e,url:"/cover",query:n})}},36936:function(e,n,i){"use strict";i.d(n,{k:function(){return t}});const t=4},87878:function(e,n,i){"use strict";i.d(n,{Y:function(){return a}});var t=i(37667),r=i(34905),o=i(7962);const a=()=>{const e=(0,r.Z)(),{0:n,1:i}=(0,t.useState)((0,o.m)(30,60)[0]),{0:a,1:l}=(0,t.useState)(!0),d=(0,t.useRef)();return(0,t.useEffect)((()=>{let e=30;return d.current=window.setInterval((()=>{e-=1,e>0?i((0,o.m)(e,60)[0]):(i(""),l(!1),clearInterval(d.current))}),1e3),()=>{clearInterval(d.current)}}),[]),{delayText:""===n?e.formatMessage({id:"features.pin-code.112df415e5452094b7c2dc3634443271"}):e.formatMessage({id:"features.pin-code.a271b5224006652e0434f2b589d55939"},{delayText:n}),isDelayed:a}}},10884:function(e,n,i){"use strict";i.d(n,{V:function(){return o}});var t=i(37667),r=i(34905);const o=e=>{const n=(0,r.Z)();return(0,t.useCallback)((i=>{const{key:t}=i;"Backspace"===t||t.match(/^[0-9]$/)?e(""):e(n.formatMessage({id:"features.pin-code.72180c2104fc0e48967d9bc19b3e5290"}))}),[n,e])}},29351:function(e,n,i){"use strict";i.d(n,{d:function(){return a}});var t=i(37667),r=i(36936),o=i(10884);const a=e=>{let{pinCode:n,errorText:i,isVerifyCalled:a,setPinCode:l,setErrorText:d,onResetFields:s,onRemindPinCode:u,onVerifyPinCode:c}=e;const{0:m,1:v}=(0,t.useState)("verify"),f=(0,o.V)(d),p=(0,t.useCallback)((()=>{i&&d(""),n&&l(""),s()}),[i,n,s,d,l]);(0,t.useEffect)((()=>{n.length===r.k&&(a||c(n))}),[c,n,a]);return{modalState:m,handleOnKeyDown:f,handleRemindClick:()=>{u(),p(),v("remind")},handleEnterPinCode:()=>{v("verify")}}}},54748:function(e,n,i){"use strict";i.d(n,{L:function(){return r}});var t=i(37667);const r=e=>{let{onVerifyPinCode:n,onSucceed:i,onError:r,setPinCode:o}=e;const{0:a,1:l}=(0,t.useState)(!1);return{isVerifyCalled:a,handleVerifyPinCode:(0,t.useCallback)((async e=>{l(!0);const{result:t,error:a}=await n(e);t&&i(),a&&(o(""),l(!1),r(a))}),[n,o,r,i])}}},68629:function(e,n,i){"use strict";i.d(n,{T:function(){return d}});i(37667);var t=i(83296),r=i(25287),o=i(32304),a=i.n(o),l=i(47934);const d=e=>{let{children:n,id:i,closeIcon:o=!0,onHideModal:d}=e;return(0,l.jsx)(r.g,{id:i,closeIcon:o,rounded:!0,onHideModal:d,isHideOnlyByCloseIcon:!0,colorScheme:t.u.Dark,children:(0,l.jsx)("div",{className:a().content,"data-tid":"PinCodeModal",children:n})})}},93372:function(e,n,i){"use strict";i.d(n,{r:function(){return v}});i(37667);var t=i(70716),r=i(63346),o=i(52621),a=i(83296),l=i(79718),d=i(2445),s=i(87878),u=i(9055),c=i.n(u),m=i(47934);const v=e=>{let{onDeclinePinCodeClick:n,onRemindPinCodeClick:i}=e;const{delayText:u,isDelayed:v}=(0,s.Y)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:c().errorIcon,"data-tid":"PinCodeRemindError"}),(0,m.jsx)(l.xv,{className:c().title,tag:l.rh.Div,theme:d.Q2.Dark,weight:l.fs.Bold,viewVariant:"centered",children:(0,m.jsx)(t.Z,{id:"features.pin-code.be2350a1e31c2bc775daaceebbb72224"})}),(0,m.jsx)(r.z,{size:o.q.size52,buttonType:o.L.Accent,onClick:i,isDisabled:v,colorScheme:a.u.Dark,children:u}),(0,m.jsx)(r.z,{size:o.q.size52,buttonType:o.L.SecondaryTransparent,onClick:n,className:c().declineButton,colorScheme:a.u.Dark,children:(0,m.jsx)(t.Z,{id:"features.subprofile-pin-code-modal.custom-id.cancel"})})]})}},92077:function(e,n,i){"use strict";i.d(n,{p:function(){return f}});i(37667);var t=i(70716),r=i(63346),o=i(52621),a=i(83296),l=i(79718),d=i(58290);var s=i(2445),u=i(87878),c=i(60707),m=i.n(c),v=i(47934);const f=e=>{let{contacts:n,onEnterPinCodeClick:i,onRemindPinCodeClick:c}=e;const f=(e=>{const n=(0,d.l)();return null!==e&&void 0!==e&&e.phone?n.formatMessage({id:"features.pin-code.04d38ddcd22abf7683d4f72e30292d02"},{phone:e.phone}):null!==e&&void 0!==e&&e.email?n.formatMessage({id:"features.pin-code.a3e6343eb3032af798db363e5a30b8e7"},{email:e.email}):""})(null!==n&&void 0!==n?n:void 0),{delayText:p,isDelayed:k}=(0,u.Y)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:m().successIcon,"data-tid":"PinCodeRemind"}),f?(0,v.jsx)(l.xv,{className:m().title,tag:l.rh.Div,theme:s.Q2.Dark,weight:l.fs.Bold,viewVariant:"centered",children:f}):null,(0,v.jsx)(r.z,{size:o.q.size52,buttonType:o.L.Accent,onClick:i,colorScheme:a.u.Dark,children:(0,v.jsx)(t.Z,{id:"features.pin-code.a217647997f86baa486be39ebff714a0"})}),(0,v.jsx)(r.z,{size:o.q.size52,buttonType:o.L.SecondaryTransparent,onClick:c,isDisabled:k,className:m().remindButton,colorScheme:a.u.Dark,children:p})]})}},25820:function(e,n,i){"use strict";i.d(n,{t:function(){return a}});i(37667);var t=i(17586),r=i(52269),o=i(47934);const a=e=>{let{isRemindLoading:n,modalState:i,remindMutationStatus:a,verifyContent:l,remindContent:d,errorContent:s}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(t.$j,{size:t.Ey.size32}),"verify"===i&&!n&&l,"remind"===i&&!n&&a===r.ne.Success&&d,"remind"===i&&!n&&a===r.ne.Fail&&s]})}},40929:function(e,n,i){"use strict";i.d(n,{r:function(){return v}});i(37667);var t=i(70716),r=i(59459),o=i(63346),a=i(52621),l=i(83296),d=i(2445),s=i(79718),u=i(15301),c=i.n(u),m=i(47934);const v=e=>{let{avatar:n,title:i,errorText:u,pinCodeValue:v,pinCodeLength:f,setPinCodeValue:p,onKeyDown:k,onRemindClick:y,visibilityRef:_}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:c().avatarsContainer,ref:_,"data-tid":"PinCodeVerify",children:n}),(0,m.jsx)(s.xv,{className:c().title,tag:s.rh.Div,theme:d.Q2.Dark,weight:s.fs.Bold,viewVariant:"centered",children:i}),(0,m.jsx)(r.Z,{value:v,setValue:p,count:f,type:"password",onKeyDown:k,isAnimate:Boolean(u)}),(0,m.jsx)(s.xv,{tag:s.rh.Span,theme:d.Q2.Error,viewVariant:"centered",weight:s.fs.Regular,className:c().error,children:u}),(0,m.jsx)(o.z,{size:a.q.size52,buttonType:a.L.SecondaryTransparent,onClick:y,className:c().remindButton,colorScheme:l.u.Dark,children:(0,m.jsx)(t.Z,{id:"features.pin-code.f472723ffce920bc75c7b926d045e5a7"})})]})}},96311:function(e,n,i){"use strict";i.d(n,{E:function(){return v}});i(37667);var t=i(70716),r=i(63346),o=i(52621),a=i(83296),l=i(79718),d=i(2445),s=i(57495),u=i(78006),c=i.n(u),m=i(47934);const v=e=>{let{retPath:n}=e;const i=(0,s.AQ)(n);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:c().successIcon,"data-tid":"SetContact"}),(0,m.jsx)(l.xv,{className:c().title,tag:l.rh.Div,theme:d.Q2.Dark,weight:l.fs.Bold,viewVariant:"centered",children:(0,m.jsx)(t.Z,{id:"features.pin-code.f3a23a02679bbe3e773bf8c5fbeedd18"})}),(0,m.jsx)(r.z,{size:o.q.size52,buttonType:o.L.Accent,href:i,colorScheme:a.u.Dark,children:(0,m.jsx)(t.Z,{id:"features.pin-code.849aa1151a247eb6d8e94e2ef3175609"})})]})}},20716:function(e,n,i){"use strict";i.d(n,{K:function(){return o}});var t=i(65284),r=i(64726);const o=(e,n)=>{var i,o;const a=[];var l;"UserKidSubProfile"===(null===e||void 0===e||null===(i=e.userProfile)||void 0===i?void 0:i.__typename)&&a.push({id:e.userProfile.id.ottId||0,url:(0,t.fM)((null===(l=e.userProfile.avatar)||void 0===l?void 0:l.avatarsUrl)||"",n)});if("UserProfile"===(null===e||void 0===e||null===(o=e.userProfile)||void 0===o?void 0:o.__typename)){var d;const i=null===(d=e.userProfile.family)||void 0===d?void 0:d.members;null===i||void 0===i||i.forEach((e=>{var i,r;"UserKidSubProfile"===(null===e||void 0===e?void 0:e.__typename)&&null!==e&&void 0!==e&&null!==(i=e.id)&&void 0!==i&&i.ottId&&e.displayName&&a.push({id:e.id.ottId,url:(0,t.fM)((null===(r=e.avatar)||void 0===r?void 0:r.avatarsUrl)||"",n)})}))}return a.length||a.push({id:0,url:(0,t.O9)((0,r.q)().avatarUrl,n)}),a}},36442:function(e,n,i){"use strict";i.d(n,{y:function(){return s}});i(37667);var t=i(98656),r=i.n(t),o=i(57969),a=i.n(o);var l=i(47934);const d=r().bind(a()),s=e=>{let{subProfilesAvatarUrls:n}=e;const{isMoreSubProfiles:i,subProfilesVisible:t}=(e=>{let{subProfilesAvatarUrls:n}=e,i=n;const t=n.length>4;return t&&(i=n.slice(0,3)),{isMoreSubProfiles:t,subProfilesVisible:i}})({subProfilesAvatarUrls:n});return(0,l.jsxs)("div",{className:d("container"),"data-tid":"AvatarsList",children:[i&&(0,l.jsxs)("div",{className:d("item"),children:["+",n.length-t.length]}),t.map((e=>{let{id:n,url:i}=e;return(0,l.jsx)("div",{className:d("item"),style:{backgroundImage:`url(${i})`},"data-tid":"component"},n)}))]})}},78812:function(e,n,i){"use strict";i.d(n,{i:function(){return $}});var t=i(37667),r=i(41931),o=i(52269),a=i(24244),l=i(68629),d=i(25287),s=i(96965),u=i(26282),c=i(97349),m=i(97279),v=i(64888),f=i(40180),p=i(89442);const k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemindKidsPinCode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userProfile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userKidSubProfile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinCode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remind"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"contacts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"}},{kind:"Field",name:{kind:"Name",value:"phone"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var y=i(92077),_=i(96311),b=i(93372),C=i(21319),P=i(23649);var h=i(36936),S=i(29351),N=i(54522),x=i(2445),j=i(88415);var g=i(25820),D=i(20716),w=i(4472),F=i(34789),O=i(52650);var V=i(34905),E=i(40929),R=i(36442),I=i(47934);const K=["subProfilesAvatarUrls"];function T(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function M(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?T(Object(i),!0).forEach((function(n){(0,w.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}const A=e=>{let{subProfilesAvatarUrls:n}=e,i=(0,F.Z)(e,K);const t=(0,V.Z)().formatMessage({id:"features.subprofile-pin-code-modal.59f142b0c77c4221a77a9cfa28aeadc5"});return(0,I.jsx)(E.r,M(M({},i),{},{avatar:(0,I.jsx)(R.y,{subProfilesAvatarUrls:n}),title:t}))},B=["onRemindClick"];function U(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function z(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?U(Object(i),!0).forEach((function(n){(0,w.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}const Z=e=>{let{onRemindClick:n}=e,i=(0,F.Z)(e,B);const r=(0,P.R)({event:C.Q6,uiParams:{}}),o=(0,O.useIntersectionObserver)({callback:r}),a=(0,P.R)({event:C.Ai,uiParams:{to:C.v1.Phone}}),l=(0,t.useCallback)((()=>{a(),n()}),[a,n]);return(0,I.jsx)(A,z(z({},i),{},{onRemindClick:l,visibilityRef:o}))},L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VerifyKidsPinCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"KidsPinCodeVerifyInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userProfile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userKidSubProfile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinCode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verify"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnverifiedKidsPinCodeError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinCodeUpdatedBy"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserId"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserId"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserProfileInterface"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ottId"}},{kind:"Field",name:{kind:"Name",value:"kpId"}},{kind:"Field",name:{kind:"Name",value:"puid"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]};var q=i(41936);var H=i(72529),Q=i(54748);const W=e=>{var n,i;let{setPinCode:a,setErrorText:l,onSucceed:d}=e;const s=(0,t.useRef)(0),[u]=(()=>{const e=(0,r.useRouter)();return(0,m.D)(L,{onCompleted(n){var i,t,r,a,l,d,s,u;if((null===(i=n.userProfile)||void 0===i||null===(t=i.userKidSubProfile)||void 0===t||null===(r=t.pinCode)||void 0===r||null===(a=r.verify)||void 0===a?void 0:a.status)===o.ne.Success&&(0,q.E)(e),null===(l=n.userProfile)||void 0===l||null===(d=l.userKidSubProfile)||void 0===d||null===(s=d.pinCode)||void 0===s||null===(u=s.verify)||void 0===u||!u.error)return;const{error:c}=n.userProfile.userKidSubProfile.pinCode.verify;(0,p.H)({message:(0,v.B)((0,f.b)(L),c)})}})})(),{data:k}=(0,c.Y)();(0,H.r)(null===k||void 0===k?void 0:k.userProfile,"UserKidSubProfile");const y=null===k||void 0===k||null===(n=k.userProfile)||void 0===n||null===(i=n.parentProfile)||void 0===i?void 0:i.id.puid,_=(0,t.useCallback)((()=>{s.current=0}),[]),b=(0,V.Z)(),{handleVerifyPinCode:C,isVerifyCalled:P}=(0,Q.L)({onVerifyPinCode:async e=>{var n,i,t,r,a,l,d,s,c,m,v;const f=await u({variables:{input:{value:e}}}),p=null!==(n=null===(i=f.data)||void 0===i||null===(t=i.userProfile)||void 0===t||null===(r=t.userKidSubProfile)||void 0===r||null===(a=r.pinCode)||void 0===a||null===(l=a.verify)||void 0===l?void 0:l.error)&&void 0!==n?n:null;return{result:(null===(d=f.data)||void 0===d||null===(s=d.userProfile)||void 0===s||null===(c=s.userKidSubProfile)||void 0===c||null===(m=c.pinCode)||void 0===m||null===(v=m.verify)||void 0===v?void 0:v.status)===o.ne.Success,error:p}},setPinCode:a,onSucceed:d,onError:e=>{if("UnverifiedKidsPinCodeError"!==(null===e||void 0===e?void 0:e.__typename))return void l(b.formatMessage({id:"features.subprofile-pin-code-modal.0a55932f29ea7ca18aa8d0f8b2e522fa"}));s.current+=1;const{pinCodeUpdatedBy:n}=e,i=(null===n||void 0===n?void 0:n.id.puid)===y;s.current>=3&&!i&&null!==n&&void 0!==n&&n.displayName?l(b.formatMessage({id:"features.subprofile-pin-code-modal.76a0b6cae8ff2cdf3548f49e8e9e764b"},{displayName:n.displayName})):l(b.formatMessage({id:"features.subprofile-pin-code-modal.2b5abcbe70089f0c4bb379aaba6e6d9d"}))}});return{isVerifyCalled:P,handleVerifyPinCode:C,resetWrongVerifyCount:_,wrongVerifyCount:s.current}},Y=e=>{var n,i,r,o,a;let{onHideModal:l}=e;const{0:d,1:s}=(0,t.useState)(""),{0:w,1:F}=(0,t.useState)(""),{data:O}=(0,c.Y)(),V=(0,D.K)(O,u.WQ.PROFILE_BIG_AVATAR),E=(0,P.R)({event:C.Hv,uiParams:{}}),{handleVerifyPinCode:R,isVerifyCalled:K,resetWrongVerifyCount:T,wrongVerifyCount:M}=W({setErrorText:F,setPinCode:s,onSucceed:E}),[A,{loading:B,data:U}]=(0,m.D)(k,{onCompleted(e){var n,i,t,r;if(null===(n=e.userProfile)||void 0===n||null===(i=n.userKidSubProfile)||void 0===i||null===(t=i.pinCode)||void 0===t||null===(r=t.remind)||void 0===r||!r.error)return;const{error:o}=e.userProfile.userKidSubProfile.pinCode.remind;(0,p.H)({message:(0,v.B)((0,f.b)(k),o)})},errorPolicy:"all"}),z=null===U||void 0===U||null===(n=U.userProfile)||void 0===n||null===(i=n.userKidSubProfile)||void 0===i||null===(r=i.pinCode)||void 0===r?void 0:r.remind,{modalState:L,handleOnKeyDown:q,handleEnterPinCode:H,handleRemindClick:Q}=(0,S.d)({pinCode:d,errorText:w,isVerifyCalled:K,onResetFields:T,onRemindPinCode:A,onVerifyPinCode:R,setErrorText:F,setPinCode:s});return(0,t.useEffect)((()=>{M>=4&&l()}),[l,M]),(0,I.jsx)(g.t,{modalState:L,isRemindLoading:B,remindMutationStatus:null===z||void 0===z?void 0:z.status,verifyContent:(0,I.jsx)(Z,{pinCodeValue:d,pinCodeLength:h.k,setPinCodeValue:s,subProfilesAvatarUrls:V,errorText:w,onKeyDown:q,onRemindClick:Q}),remindContent:(0,I.jsx)(y.p,{onEnterPinCodeClick:H,onRemindPinCodeClick:Q,contacts:null!==(o=null===z||void 0===z?void 0:z.contacts)&&void 0!==o?o:void 0}),errorContent:"MissingKidsPinCodeRemindContactsError"===(null===z||void 0===z||null===(a=z.error)||void 0===a?void 0:a.__typename)?(0,I.jsx)(_.E,{retPath:N.stringifyUrl({url:(0,j.J)(),query:{[x.cG.PIN_CODE_EXIT]:"1"}})}):(0,I.jsx)(b.r,{onRemindPinCodeClick:Q,onDeclinePinCodeClick:l})})},G=()=>{const e=(0,s._)(),n=(0,t.useCallback)((()=>{e.hideActiveModal()}),[e]);return(0,I.jsx)(l.T,{id:d.Z.PIN_CODE_SET,onHideModal:n,children:(0,I.jsx)(Y,{onHideModal:n})})};var X=i(71743);const $=(0,a.s)({condition:e=>e.isAuthorized&&e.profileType===o.uy.UserKidSubProfile})((()=>{var e,n;const{data:i}=(0,X.h)(),o=Boolean(null===i||void 0===i||null===(e=i.userProfile)||void 0===e||null===(n=e.kidsPinCode)||void 0===n?void 0:n.enabled),{[x.cG.PIN_CODE_EXIT]:a}=(0,r.useRouter)().query,l=(0,s._)();return(0,t.useEffect)((()=>{o&&a&&l.showActiveModal(d.Z.PIN_CODE_SET)}),[l,o,a]),o?(0,I.jsx)(G,{}):null}))},71743:function(e,n,i){"use strict";i.d(n,{h:function(){return o}});var t=i(94145),r=i(86506);const o=()=>(0,t.a)(r.I,{fetchPolicy:"cache-first",errorPolicy:"all"})},59459:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var t=i(9246),r=i.n(t),o=i(37667);var a=i(17148),l=i.n(a),d=i(47934);const s=e=>{let{value:n,setValue:i,count:t,type:a="text",isAnimate:s=!1,onKeyDown:u}=e;const{pinCode:c,onKeyDown:m,onClick:v,inputRefs:f}=(e=>{let{count:n,value:i,setValue:t,onKeyDown:r}=e;const a=new Array(n).fill("").map(((e,n)=>{var t;return null!==(t=i[n])&&void 0!==t?t:""})),l=(0,o.useRef)(new Array(n)),d=Math.min(i.length,n-1),s=e=>{const n=l.current[e];n&&(n.disabled=!1,n.focus())};(0,o.useEffect)((()=>{s(d)}),[d]);const u=(e,n)=>{a[e]=n,t(a.join(""))};return{onKeyDown:(e,n)=>{null===r||void 0===r||r(e,n);const{key:i}=e,t=Boolean(a[n]),o=Boolean(a[n-1]);if("Backspace"===i)return t?void u(n,""):void(o&&(u(n-1,""),s(n-1)));if(i.match(/^[0-9]$/)){if(t)return;u(n,i),s(n+1)}},onClick:()=>{s(d)},pinCode:a,inputRefs:l}})({value:n,setValue:i,count:t,onKeyDown:u}),p="text"===a,k=c.map(((e,n)=>(0,d.jsxs)("div",{className:l().wrapper,"data-tid":"component",children:[(0,d.jsx)("span",{className:r()(l().value,l().dot,{[l().fill]:e,[l().hidden]:e&&p})}),p?(0,d.jsx)("span",{className:r()(l().value,l().number),children:e}):null,(0,d.jsx)("input",{className:l().input,type:"text",inputMode:"numeric",maxLength:1,value:e,onKeyDown:e=>m(e,n),ref:e=>{f.current[n]=e}})]},n)));return(0,d.jsx)("fieldset",{className:r()(l().root,{[l().animation]:s}),onClick:v,role:"presentation","data-tid":"PinCode",children:k})}},32304:function(e){e.exports={content:"styles_content__s5S_M"}},9055:function(e){e.exports={errorIcon:"styles_errorIcon__VStkq",title:"styles_title___ormb",declineButton:"styles_declineButton__uAVza"}},60707:function(e){e.exports={successIcon:"styles_successIcon__urncF",title:"styles_title__9183C",remindButton:"styles_remindButton__1ax7J"}},15301:function(e){e.exports={avatarsContainer:"styles_avatarsContainer___JjVm",title:"styles_title__d_Wbh",error:"styles_error__7SpuH",remindButton:"styles_remindButton__W_wte"}},78006:function(e){e.exports={successIcon:"styles_successIcon__EEH8w",title:"styles_title___eOg4"}},57969:function(e){e.exports={container:"styles_container__qFRKd",item:"styles_item__CoK6C"}},17148:function(e){e.exports={root:"styles_root__ogh7C",animation:"styles_animation__dP_GG",shakeX:"styles_shakeX__gxwBv",wrapper:"styles_wrapper__sioTo",value:"styles_value__xDwwV",dot:"styles_dot__d468m",fill:"styles_fill__WmPuy",hidden:"styles_hidden__N929P",number:"styles_number__HYO4R",input:"styles_input__5jVtX"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/hd-www/release/_next/static/chunks/9524-e7dba37cc68e173a.js.map