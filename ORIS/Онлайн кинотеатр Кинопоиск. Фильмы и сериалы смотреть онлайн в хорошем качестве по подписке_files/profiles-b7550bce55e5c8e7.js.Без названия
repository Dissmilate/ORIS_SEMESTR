(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5550],{44047:function(e,t,o){var r={"./ru.json":[10516,516]};function i(e){if(!o.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return o.e(t[1]).then((function(){return o.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=44047,e.exports=i},66081:function(e,t,o){"use strict";o.d(t,{b:function(){return p}});var r=o(4472),i=o(34789),n=o(37667),s=o(65284);const l=["fallback"];var a=o(16852),c=o(47934);const u=["originalUrl","baseUrl","adaptiveSizes","alt","loading"];function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const p=e=>{let{originalUrl:t,baseUrl:o,adaptiveSizes:r,alt:f,loading:p=a.g.LAZY}=e,h=(0,i.Z)(e,u);const[b,m]=((e,t,o)=>(0,n.useMemo)((()=>{const{fallback:r}=e,n=(0,i.Z)(e,l);return[Object.entries(n).map((e=>{let[r,i]=e;return`${o?(0,s.fM)(o,i):(0,s.O9)(t,i)} ${r}`})).join(", "),o?(0,s.fM)(o,r):(0,s.O9)(t,r)]}),[t,e,o]))(r,t,o);return(0,c.jsx)("img",d(d({},h),{},{alt:f,loading:p,srcSet:b,src:m,"data-tid":"AdaptiveImage"}))}},16852:function(e,t,o){"use strict";let r;o.d(t,{g:function(){return r}}),function(e){e.LAZY="lazy",e.EAGER="eager"}(r||(r={}))},16009:function(e,t,o){"use strict";o.d(t,{l:function(){return h}});var r=o(4472),i=o(91844),n=o(33140),s=o(37667),l=o(71754),a=o(46284),c=o(95638),u=o(34538),f=o(19408);function d(e,t){return Math.abs(t-e)<=1}var p=o(47934);class h extends s.Component{constructor(e){super(e),(0,r.Z)(this,"state",{hideButtons:u.S.Both}),(0,r.Z)(this,"scrollRef",null),(0,r.Z)(this,"handleScroll",void 0),(0,r.Z)(this,"itemRefs",[]),(0,r.Z)(this,"direction","horizontal"),this.direction=e.direction||"horizontal",this.setScrollRef=this.setScrollRef.bind(this),this.setItemRef=this.setItemRef.bind(this),this.handleLeftScrollButtonClick=this.handleLeftScrollButtonClick.bind(this),this.handleRightScrollButtonClick=this.handleRightScrollButtonClick.bind(this),this.handleItemsDisplayed=this.handleItemsDisplayed.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.handleScrollFinish=this.handleScrollFinish.bind(this),this.handleScroll=(0,i.Z)([(0,l.D)(300,!0,this.handleScrollStart),(0,l.P)(300,!1,this.handleItemsDisplayed),(0,l.D)(300,this.handleScrollFinish)])}componentDidMount(){const{indexToScroll:e}=this.props;this.updateButtons(),(0,n.Z)(e)||this.scrollToIndex(e,!1);let t=!1;"horizontal"===this.direction&&(t=Boolean(this.scrollRef&&this.scrollRef.scrollWidth>this.scrollRef.clientWidth)),"vertical"===this.direction&&(t=Boolean(this.scrollRef&&this.scrollRef.scrollHeight>this.scrollRef.clientHeight)),0!==e&&!(0,n.Z)(e)&&t||this.handleItemsDisplayed()}componentDidUpdate(e){const{children:t,indexToScroll:o}=this.props;s.Children.count(t)!==s.Children.count(e.children)&&(this.updateButtons(),this.updateItemRefs()),(0,n.Z)(o)||o===e.indexToScroll||this.scrollToIndex(o)}render(){const{concealButtons:e=!0,buttonsClassName:t,className:o,itemClassName:r,children:i,scrollContainerClassName:n,isEmpty:l,buttonsGradientEnabled:a}=this.props,{hideButtons:u}=this.state;return(0,p.jsx)(c.a,{onLeftButtonClick:this.handleLeftScrollButtonClick,onRightButtonClick:this.handleRightScrollButtonClick,onScroll:this.handleScroll,ref:this.setScrollRef,concealButtons:e,hideButtons:u,buttonsClassName:t,className:o,scrollContainerClassName:n,isEmpty:l,buttonsGradientEnabled:a,direction:this.direction,children:s.Children.toArray(i).map(((e,t)=>(0,p.jsx)(f.n,{forwardedRef:this.getSetItemRefHandler(t),scrollRef:this.scrollRef,className:r,children:e},t)))})}handleScrollFinish(){if(!this.scrollRef)return;const{onScroll:e=(()=>{})}=this.props,t=this.itemRefs.indexOf(this.getFirstVisibleItem()),o=this.itemRefs.indexOf(this.getLastVisibleItem());this.updateButtons(),e(t,o)}handleScrollStart(){if(!this.scrollRef)return;const{onScrollStart:e}=this.props;e&&e()}handleItemsDisplayed(){const{onItemsDisplayed:e}=this.props;if(!this.scrollRef||!e)return;e(this.itemRefs.indexOf(this.getFirstVisibleItem()),this.itemRefs.indexOf(this.getLastVisibleItem()))}handleLeftScrollButtonClick(){this.handleScrollButtonClick(!0)}handleRightScrollButtonClick(){this.handleScrollButtonClick(!1)}handleScrollButtonClick(e){const t=this.scrollRef,o=this.getFirstVisibleItem(),r=this.getLastVisibleItem();if(o&&r&&t){const i=r.offsetLeft-o.offsetLeft,n=t.scrollLeft+(e?-i:i);this.scrollTo(n)}}getFirstVisibleItem(){return this.itemRefs.find((e=>!!e&&this.isItemInViewport(e)))||null}getLastVisibleItem(){return this.itemRefs.slice().reverse().find((e=>!(null===e||void 0===e||!e.parentElement)&&this.isItemInViewport(e)))||null}isItemInViewport(e){const t=this.scrollRef;if(!t)return!1;const{scrollLeft:o,clientWidth:r,scrollTop:i,clientHeight:n}=t,{offsetLeft:s,offsetWidth:l,offsetTop:a,offsetHeight:c}=e;return"horizontal"===this.direction?this.calculateIsItemInViewport({scrollSize:r,elementSize:l,elementOffset:s,scrollPosition:o}):"vertical"===this.direction&&this.calculateIsItemInViewport({scrollSize:n,elementSize:c,elementOffset:a,scrollPosition:i})}calculateIsItemInViewport(e){let{scrollSize:t,elementSize:o,scrollPosition:r,elementOffset:i}=e;return i>=r&&i+.05*o<=r+t}updateButtons(){const e=this.getHideButtons();this.setState({hideButtons:e})}updateItemRefs(){this.itemRefs=this.itemRefs.filter((e=>e&&Boolean(e.isConnected||e.parentNode)))}getHideButtons(){let e=u.S.None;if(!this.scrollRef)return e;const{scrollWidth:t,clientWidth:o,scrollLeft:r}=this.scrollRef,i=d(r,0),n=d(t,Math.abs(r)+o);return this.scrollRef&&this.scrollRef.scrollWidth<=this.scrollRef.clientWidth?e=u.S.Both:i?e=u.S.Left:n&&(e=u.S.Right),e}scrollTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.scrollRef)return;const o=t?"smooth":"auto";"horizontal"===this.direction&&this.scrollRef.scrollTo({left:e,behavior:o}),"vertical"===this.direction&&this.scrollRef.scrollTo({top:e,behavior:o})}scrollToIndex(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=this.itemRefs[e];if(!o||!this.scrollRef)return;const r=(0,a.H)(6);"horizontal"===this.direction&&this.scrollTo(o.offsetLeft-r,t),"vertical"===this.direction&&this.scrollTo(o.offsetTop-r,t)}setScrollRef(e){this.scrollRef=e}getSetItemRefHandler(e){return t=>{this.setItemRef(t,e)}}setItemRef(e,t){e&&(this.itemRefs[t]=e)}}},95638:function(e,t,o){"use strict";o.d(t,{a:function(){return y}});var r=o(4472),i=o(34789),n=o(98656),s=o.n(n),l=o(37667),a=o(18291),c=o(63879),u=o(31405),f=o.n(u),d=o(47934);const p=["className","children","onLeftButtonClick","onRightButtonClick","hideButtons","hoveredButton","concealButtons","buttonsClassName","scrollContainerClassName","isEmpty","buttonsGradientEnabled","onScroll","direction"];function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const m=s().bind(f()),y=(0,l.forwardRef)(((e,t)=>{const{className:o,children:r,onLeftButtonClick:n,onRightButtonClick:s,hideButtons:l,hoveredButton:u,concealButtons:f=!1,buttonsClassName:h,scrollContainerClassName:y,isEmpty:g,buttonsGradientEnabled:O=!1,onScroll:P,direction:v="horizontal"}=e,_=(0,i.Z)(e,p),j=m("root",{[`root_hide-buttons_${l}`]:l,"root_conceal-buttons":f,root_empty:g,"root_with-buttons-gradient":O,root_vertical:"vertical"===v},o);return(0,d.jsxs)("div",b(b({className:j},_),{},{"data-tid":"CarouselContainer",children:[(0,d.jsx)("ul",{className:m("scroll",y,{scroll_vertical:"vertical"===v,scroll_horizontal:"horizontal"===v}),ref:t,role:"list",onScroll:P,children:r}),(0,d.jsx)(a.x,{className:m("button","button-left",h),onClick:n,orientation:c.b.Left,"aria-hidden":!0}),(0,d.jsx)(a.x,{className:m("button","button-right",h),onClick:s,orientation:c.b.Right,"aria-hidden":!0})]}))}))},34538:function(e,t,o){"use strict";let r;o.d(t,{S:function(){return r}}),function(e){e.Left="left",e.Right="right",e.Both="both",e.None="none"}(r||(r={}))},19408:function(e,t,o){"use strict";o.d(t,{n:function(){return j}});var r=o(4472),i=o(34789),n=o(25334),s=o(37667),l=o(70395),a=o(98656),c=o.n(a),u=o(74385),f=o.n(u),d=o(47934);const p=["entry","children","forwardedRef","className","minIntersectionRatio"];function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const m=c().bind(f()),y=.9,g=(0,s.forwardRef)(((e,t)=>{let{entry:o,children:r,forwardedRef:n,className:l,minIntersectionRatio:a=y}=e,c=(0,i.Z)(e,p);const u=(0,s.useCallback)((e=>{n(e),"function"===typeof t&&t(e)}),[t]);let f;if(o&&o.intersectionRatio<a){const e=.2+.8*(o?o.intersectionRatio:0);f=m(`root_opacity-${Math.round(10*e)}`)}return(0,d.jsx)("li",b(b({className:m("root",f,"carousel-item",l),ref:u,role:"listitem"},c),{},{"data-tid":"CarouselItem",children:r}))})),O=["scrollRef","children"];function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const _=(0,n.Z)(0,11).map((e=>e/10)),j=e=>{const{scrollRef:t,children:o}=e,r=(0,i.Z)(e,O);return(0,d.jsx)(l.df,{threshold:_,root:t,children:e=>{let{entry:t,ref:i}=e;return(0,d.jsx)(g,v(v({entry:t,ref:i},r),{},{children:o}))}})}},18291:function(e,t,o){"use strict";o.d(t,{x:function(){return m}});var r=o(4472),i=o(34789),n=o(98656),s=o.n(n),l=(o(37667),o(14761)),a=o(47934);const c=e=>{const t=function(e){let{orientation:t}=e;const o={};"right"===t&&(o.transform="rotate(180deg)");return o}(e);return(0,a.jsx)("svg",{width:"17",height:"36",viewBox:"0 0 17 36",style:t,fill:"none",xmlns:"http://www.w3.org/2000/svg","data-tid":"Arrow",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5001 17.9998L16.6001 3.1998L13.4001 0.799805L0.500097 17.9998L13.4001 35.1998L16.6001 32.7998L5.5001 17.9998Z",fill:"white"})})};var u=o(5166),f=o.n(u);const d=["orientation","className","onClick"];function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const b=s().bind(f()),m=e=>{const{orientation:t,className:o,onClick:r=l.Z}=e,n=(0,i.Z)(e,d),s=b("root",`root-${t}`,o);return(0,a.jsx)("button",h(h({},n),{},{className:s,onClickCapture:r,onKeyPress:r,tabIndex:-1,"data-tid":"ScrollButton",children:(0,a.jsx)(c,{className:b("icon"),orientation:t})}))}},63879:function(e,t,o){"use strict";let r;o.d(t,{b:function(){return r}}),function(e){e.Left="left",e.Right="right"}(r||(r={}))},46284:function(e,t,o){"use strict";function r(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize||"10")}o.d(t,{H:function(){return r}})},25953:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Do}});var r=o(37667),i=o(70861),n=o(67310),s=o(20190),l=o(2716),a=o(67162),c=o(4472),u=o(34905),f=o(19830),d=o(51606),p=o(43273),h=o(2769),b=o(88415),m=o(93473);var y=o(47934);function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function O(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const P=()=>{const e=(0,u.Z)().formatMessage({id:"pages.profiles.ui.page-head.0608cf5e34468b2aec1ffb9532f5790c"}),{description:t=(0,f.ab)()}=(0,p.n)(),o=(0,h.Z)((0,b.J)(),function(){let{locale:e,query:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.n)({locale:e,url:"/profiles",query:t})}()),r=o;return(0,y.jsx)(d.o,O(O({},(0,f.Zt)()),{},{title:e,ogTitle:e,description:t,ogDescription:t,canonical:o,ogUrl:r}))};var v=o(78661),_=o(59408),j=o(27164),w=o(88771),S=o(47894),C=o(9479),x=o(3491),R=o(63638),E=o(85359);var A=o(52269),D=o(24244),I=o(25287),k=o(96965),N=o(45119),B=o(38558),L=o(68629),T=o(41931),z=o(66441),Z=o(36750),M=o(80584),V=o(62571);const F=()=>{const e=(0,T.useRouter)(),t=(0,Z.C)();return()=>{"string"!==typeof t?(0,M.m)({router:e,url:(0,z.b)()}):(0,V.i)({router:e,url:t})}};var H=o(13272),U=o(87063);const G=()=>{const e=(0,k._)(),t=(0,u.Z)(),o=F(),{setIsAdultPinCodeSessionVerified:r}=(0,U.s)(),{clearAdultPinCodeQueryParam:i}=(0,B.E)(),n=()=>{e.hideActiveModal(),i()},s=t.formatMessage({id:"features.adult-pin-code.6ef8b379bcad7c2a7448daf6a7e497a2"});return(0,y.jsx)(L.T,{id:I.Z.ADULT_PIN_CODE_ENTER,onHideModal:n,children:(0,y.jsx)(H.p,{title:s,onPinCodeVerified:()=>{n(),r(),o()},onHideModal:n})})};var q=o(55822);const W=(0,D.s)({condition:e=>e.isAuthorized&&e.profileType===A.uy.UserProfile})((()=>{const e=(0,N.e)(),{adultPinCodeQueryParam:t}=(0,B.E)(),o=(0,k._)(),{getIsAdultPinCodeSessionVerified:i}=(0,U.s)();return(0,r.useEffect)((()=>{e&&t===q.C.Enter&&!i()&&o.showActiveModal(I.Z.ADULT_PIN_CODE_ENTER)}),[t,e,o,i]),(0,y.jsx)(G,{})}));var $=o(76457),Q=o(4033),Y=o(97349),K=o(72529),X=o(65284),J=o(26282),ee=o(29001),te=o(57013),oe=o(11226),re=o(44866),ie=o(66051);const ne=()=>{const e=F(),t=(0,N.e)(),{setAdultPinCodeQueryParam:o}=(0,B.E)(),{getIsAdultPinCodeSessionVerified:r}=(0,U.s)();return()=>{t&&!r()?o(q.C.Enter):e()}};var se=o(83227),le=o(82554),ae=o(8130),ce=o(2445);var ue=o(21319),fe=o(23649);var de=o(52650);const pe=e=>{let{onHideProfilesChoice:t,isSubProfilesLoaded:o,subProfiles:r,isSubProfileAnimationEnabled:i}=e;const n=Boolean(null===r||void 0===r?void 0:r.length),s=Boolean(!n&&o),l=ce.cG.WELCOME_PAGE in(0,T.useRouter)().query,a=(0,fe.R)({event:ue.su,uiParams:{}});return{ref:(e=>{const t=(0,fe.R)({event:ue.q7,uiParams:e});return(0,de.useIntersectionObserver)({threshold:.01,callback:t})})({autoShowed:Boolean(l),hasChildProfile:n,hasChildAnimation:Boolean(i&&s),isPreGenerated:s}),handleProfilesChoice:()=>{a(),t()},isProfilesPageAutoShowed:l}};var he=o(70716),be=o(35247),me=o.n(be),ye=o(63346),ge=o(52621),Oe=o(83296),Pe=o(14761),ve=o(64726),_e=o(63618),je=o(20917),we=o(98792),Se=o(28167),Ce=o(49093),xe=o(9246),Re=o.n(xe),Ee=o(66081);let Ae;!function(e){e.PROFILES_MOUNTED="profiles.mounted"}(Ae||(Ae={}));var De=o(96085),Ie=o.n(De);const ke=e=>{let{movie:t,isActive:o,isLooped:i,onShowed:n=Pe.Z}=e;return(0,r.useEffect)((()=>{(o||i)&&n()}),[o,i,n]),(0,y.jsxs)("div",{className:Re()(Ie().movie,{[Ie().movieActive]:o,[Ie().movieInfiniteAnimation]:i}),"aria-hidden":!0,"data-tid":"MovieAnnouncementBackground",children:[(0,y.jsx)("div",{className:Ie().background,children:(0,y.jsx)(Ee.b,{adaptiveSizes:{fallback:J.WQ.PROFILES_MOVIE_ANNOUNCE_COVER},originalUrl:t.coverUrl,className:Ie().cover,alt:""})}),(0,y.jsxs)("div",{className:Ie().titleLogoBlock,children:[(0,y.jsx)(Ee.b,{className:Ie().titleLogo,adaptiveSizes:J.oC,originalUrl:t.logoUrl,alt:""}),t.text&&(0,y.jsx)("div",{className:Ie().text,children:t.text})]})]})};var Ne=o(34778);function Be(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Le(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Be(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const Te=e=>{const{movie:t}=e,o=(r=t.contentId,(0,fe.R)({event:ue.S7,uiParams:{uuid:r,uuidType:Ne.ic.Ott}}));var r;return(0,y.jsx)(ke,Le(Le({},e),{},{onShowed:o}))};var ze=o(56790);const Ze=e=>{let{items:t,onMount:o}=e;const{0:i,1:n}=(0,r.useState)((()=>Math.floor(Math.random()*t.length))),s=(0,r.useRef)();return(0,ze.F)(o),(0,r.useEffect)((()=>(s.current&&clearTimeout(s.current),s.current=window.setTimeout((()=>{const e=i===t.length-1?0:i+1;n(e)}),8500),()=>{clearTimeout(s.current)})),[i,t]),(0,y.jsx)(y.Fragment,{children:t.map(((e,o)=>(0,y.jsx)(Te,{movie:e,isActive:o===i&&(null===t||void 0===t?void 0:t.length)>1,isLooped:1===(null===t||void 0===t?void 0:t.length)},o)))})};var Me=o(97212),Ve=o.n(Me);const Fe=e=>{let{gradient:t,children:o}=e;return(0,y.jsx)("div",{className:Re()(Ve().announcementBackground,{[Ve().announcementBackgroundGradient]:t}),"data-tid":"ProfilesAnnouncementBackgroundWrapper",children:o})};var He=o(86590),Ue=o.n(He);const{publicRuntimeConfig:{profilesPageImageFallbackUrl:Ge}}=me()(),qe=e=>{let{isLoading:t,movies:o,onFirstMovieShow:r}=e;return(0,y.jsxs)(Fe,{gradient:!0,children:[(0,y.jsx)(Ee.b,{className:Re()(Ue().backgroundFallback,{[Ue().backgroundFallbackActive]:!t&&!(null!==o&&void 0!==o&&o.length)}),adaptiveSizes:{fallback:J.WQ.PROFILES_MOVIE_ANNOUNCE_COVER_FALLBACK},baseUrl:Ge}),null!==o&&void 0!==o&&o.length?(0,y.jsx)(Ze,{items:o,onMount:r}):null]})};var We=o(97581),$e=o(98656),Qe=o.n($e),Ye=o(47737),Ke=o(92936),Xe=o(86973),Je=o(84297),et=o(71783),tt=o(58290);var ot=o(90508),rt=o.n(ot);const it=Qe().bind(rt()),nt=e=>{const{text:t,url:o="",navigateTo:i="",avatarUrl:n,isMasterProfile:s,isEditing:l,ageRestrictionGroup:a,parentalControlEnabled:c,withAnimation:u,avatarSize:f,isAdmin:d,isAuthorized:p=!0,hasSubscription:h,onClick:b=(()=>{}),onAnimationPlay:m=(()=>{}),viewVariant:g="vertical"}=e,O="horizontal"===g,P=e=>{o||e.preventDefault(),b()};(0,r.useEffect)((()=>{const e=setTimeout((()=>{u&&m()}),2e3);return()=>clearTimeout(e)}),[]);const v=function(e){let{isAdmin:t,isAuthorized:o,isMasterProfile:r,parentalControlEnabled:i,ageRestrictionGroup:n}=e;const s=(0,tt.l)();return t||!o||r&&void 0!==n?(0,et.F)({isAuth:o,isAdmin:t,ageRestriction:null!==n&&void 0!==n?n:""}):i?s.formatMessage({id:"pages.profiles.utils.d9e1040a60fe9e91812c9f8ff2ed15bc"}):r||void 0===n?void 0:n}({isAdmin:d,isAuthorized:p,isMasterProfile:s,ageRestrictionGroup:a,parentalControlEnabled:c}),_=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Xe.q,{avatarUrl:n,avatarSize:f||Ye.D.Size160,withSubProfileAnimation:u,isLockedByParentalControl:c,isEditing:l,hasSubscriptions:h,className:it("avatar")}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:it("text"),children:t}),v&&(0,y.jsx)("p",{className:it("sub-text"),children:v})]})]});return o?(0,y.jsx)(Je.r,{className:it("root",{"root-horizontal":O}),href:o,onClick:P,children:_}):(0,y.jsx)(Ce.r,{replace:!s,className:it("root",{"root-with-animation":u,"root-horizontal":O}),to:i,onClick:P,children:_})};function st(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function lt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?st(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):st(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const at=e=>{const{isPreCreated:t,isAuthorized:o,isMasterProfile:r,id:i,withAnimation:n,isFamilyAccount:s,isProfilesPageAutoShowed:l}=e,a=(0,Ke.t)({autoShowed:Boolean(l),isPreGenerated:Boolean(t),hasChildAnimation:Boolean(n),isFamilyAccount:Boolean(s),isAuthorized:Boolean(o),targetProfileId:i?String(i):"-",isTargetMaster:Boolean(r),from:ue.DA.ProfileScreen});return(0,y.jsx)(nt,lt(lt({},e),{},{onClick:()=>{var t;a(),null===(t=e.onClick)||void 0===t||t.call(e)}}))};function ct(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}const ut=e=>(0,y.jsx)(at,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ct(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e)),ft=e=>(0,X.O9)(e,J.WQ.PROFILE_BIG_AVATAR);var dt=o(74949),pt=o(83414),ht=o(2614),bt=o(83602),mt=o(72445),yt=o(100),gt=o(90554),Ot=o.n(gt);const Pt=Qe().bind(Ot()),vt=e=>{let{isAdmin:t,currentPath:o,onClick:r,setElementRef:i,viewVariant:n="vertical"}=e;const s="horizontal"===n,l=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:Pt("button"),ref:i}),(0,y.jsx)("p",{className:Pt("text"),children:(0,y.jsx)(he.Z,{id:"pages.profiles.ui.add-to-family-button.e170f4bf9c0e44370f4c42692e53a873"})})]});return t?(0,y.jsx)(Je.r,{className:Pt("root",{"root-horizontal":s}),href:(0,yt.P)(),target:"_blank",rel:"noreferrer",onClick:r,children:l}):(0,y.jsx)(Ce.r,{className:Pt("root",{"root-horizontal":s}),to:(0,mt.v)({query:{[ce.cG.RETURN_PATH]:o}}),rel:"noreferrer",onClick:r,children:l})};function _t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function jt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const wt=e=>{const t=(0,ht.g)(),o=(0,bt.i)();return(0,y.jsx)(vt,jt(jt({},e),{},{setElementRef:t,onClick:o}))};var St=o(49583),Ct=o(86947);const xt=e=>{let{hintClassName:t,deniedProfileHintDirection:o,profileViewVariant:r,onCloseHint:i}=e;const n=(0,u.Z)();return(0,y.jsx)(Ct.k,{direction:o,text:n.formatMessage({id:"pages.profiles.ui.pin-code-hint-container.612bdeb82e624c968204fa53454fc15d"}),mainOffset:"horizontal"===r?25:8,className:t,highlighted:!1,showCloseButton:!0,onClose:i})},Rt=e=>{let{hintClassName:t,deniedProfileHintDirection:o,profileViewVariant:r,children:i}=e;const n=(0,u.Z)();return(0,y.jsx)(Ct.k,{direction:o,text:n.formatMessage({id:"pages.profiles.ui.subprofile-blocked-hint.138ec9752a1db8a839ba4a8b88fc1abd"}),mainOffset:"horizontal"===r?25:8,className:t,highlighted:!1,showCloseButton:!1,showOnlyOnTargetHover:!0,children:i})};function Et(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function At(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Et(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const Dt=e=>{let{subProfiles:t=[],familyProfiles:o=[],profileImage:i,profileOttId:n,profileDisplayName:s,profileAgeRestriction:l,onProfileSelect:a,isEditing:c,onRegisterNewSubProfile:u,subProfileDraft:f,isSubProfileAnimationEnabled:d,profileIsAdmin:p=!1,profileHasSubscription:h=!1,onAnimationPlay:b,isProfilesPageAutoShowed:m,hintClassName:g,deniedProfileHintDirection:O,profileViewVariant:P="vertical"}=e;const v=(0,Z.C)(),_=(0,T.useRouter)().asPath,{0:j,1:w}=(0,r.useState)((0,E.le)(R.rH)!==R.KB),S=(0,r.useCallback)((()=>{(0,E.D$)(R.rH,R.KB),w(!1)}),[]),C=(0,r.useCallback)((()=>a(null)),[]),x=(0,r.useCallback)((()=>{f&&u(f)}),[u,f]),A=(0,r.useCallback)((e=>{c||a(e)}),[c,a]),D="vertical"===P?Ye.D.Size132:Ye.D.Size124,I=[f?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ut,{text:f.name,avatarUrl:ft(f.avatarUrl),avatarSize:D,ageRestrictionGroup:f.ageRestrictionGroup,parentalControlEnabled:!1,onClick:x,componentType:"subProfile",withAnimation:d,isPreCreated:!0,onAnimationPlay:b,isProfilesPageAutoShowed:m,viewVariant:P},"subProfileDraft"),j&&(0,y.jsx)(xt,{hintClassName:g,deniedProfileHintDirection:O,onCloseHint:S})]}):null,...t.map(((e,t)=>{const{id:o,avatarUrl:r,name:i,ageRestrictionGroup:n,parentalControlEnabled:s}=e,l=s,a=(0,y.jsx)(ut,{navigateTo:c?(0,dt.P)({profileId:o,query:At({},v&&{[ce.cG.RETURN_PATH]:v})}):void 0,text:i,id:o,avatarUrl:ft(r),avatarSize:D,isEditing:c,parentalControlEnabled:s,ageRestrictionGroup:n,onClick:()=>A(o),componentType:"subProfile",isRestricted:l,isProfilesPageAutoShowed:m,viewVariant:P},o);return 0===t&&j?(0,y.jsxs)(y.Fragment,{children:[a,(0,y.jsx)(xt,{hintClassName:g,deniedProfileHintDirection:O,onCloseHint:S,profileViewVariant:P})]}):s?(0,y.jsx)(Rt,{hintClassName:g,deniedProfileHintDirection:O,profileViewVariant:P,children:a}):a}))].filter(Boolean),k=o.map((e=>{const{id:t,avatarUrl:o,displayName:r,loginLink:i,isAdmin:n,isAuthorized:s,hasSubscription:l,ageRestrictionGroup:a}=e;return(0,y.jsx)(ut,{url:i,text:r,avatarUrl:ft(o),avatarSize:D,componentType:"profile",isAdmin:n,isAuthorized:s,hasSubscription:l,ageRestrictionGroup:a,isMasterProfile:!0,id:t,isFamilyAccount:!0,isProfilesPageAutoShowed:m,viewVariant:P,onClick:St.p},t)})),N=[(0,y.jsx)(ut,{text:s,avatarUrl:i,avatarSize:D,onClick:C,isMasterProfile:!0,componentType:"profile",id:n,isAdmin:p,hasSubscription:h,isProfilesPageAutoShowed:m,ageRestrictionGroup:l,isAuthorized:!0,viewVariant:P},n),...I,...k];return o.length<pt.a7&&N.push((0,y.jsx)(wt,{isAdmin:p,currentPath:_,viewVariant:P})),N};var It=o(62199),kt=o.n(It);function Nt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}const Bt=Qe().bind(kt()),Lt=(0,We.q)(Ae.PROFILES_MOUNTED)((e=>{const t=Dt(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Nt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({hintClassName:Bt("hint"),deniedProfileHintDirection:"right-center",profileViewVariant:"horizontal"},e));return(0,y.jsx)("ul",{className:kt().root,"data-tid":"ProfilesFamilyVerticalList",children:t.map(((e,t)=>(0,y.jsx)("li",{className:kt().item,"data-tid":"component",children:e},t)))})}));var Tt=o(74363),zt=o.n(Tt);const{publicRuntimeConfig:{isChildAccountEnabled:Zt}}=me()(),Mt=e=>{let{subProfiles:t,familyProfiles:o,profileOttId:r,profileDisplayName:i,profileImage:n,profileAgeRestriction:s,onProfileSelect:l,onHideProfilesChoice:a,onRegisterNewSubProfile:c=Pe.Z,isSubProfileAnimationEnabled:u=!1,onAnimationPlay:f=Pe.Z,isSubProfilesLoaded:d=!1,isEditing:p=!1,profileIsAdmin:h=!1,retPath:b,profileHasSubscription:m,setElementRef:g,isProfilesPageAutoShowed:O,movies:P,isLoading:v,onFirstMovieShow:_}=e;const j=null!==t&&void 0!==t&&t.length||!d||!Zt?void 0:(0,ve.q)(),w=(0,_e.N)();return(0,y.jsx)(we.L,{header:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Se.v,{}),(0,y.jsx)(je.r,{fixed:!0})]}),children:(0,y.jsxs)("section",{className:zt().root,ref:g,"data-tid":"ProfilesMovieAnnouncePage",children:[(0,y.jsx)("div",{className:zt().fade}),(0,y.jsxs)("div",{className:zt().content,children:[(0,y.jsx)("h2",{className:zt().title,children:(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-movie-announce-page.79e71b62dbc846bacf503da405faeb0e"})}),(0,y.jsx)(Lt,{profileOttId:r,profileDisplayName:i,profileImage:n,profileAgeRestriction:s,subProfiles:t,familyProfiles:o,onProfileSelect:l,isEditing:p,onRegisterNewSubProfile:c,subProfileDraft:j,isSubProfileAnimationEnabled:u,onAnimationPlay:f,profileIsAdmin:h,profileHasSubscription:m,isProfilesPageAutoShowed:O}),w?null:(0,y.jsx)(Ce.r,{to:b,onClick:a,children:(0,y.jsx)(ye.z,{colorScheme:Oe.u.Dark,buttonType:ge.L.Secondary,size:ge.q.size52,children:(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-movie-announce-page.ed4505c7214fbc9f7850ec7646aa5c63"})})})]}),(0,y.jsx)(qe,{isLoading:v,movies:P,onFirstMovieShow:_})]})})};function Vt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Ft(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const Ht=e=>{const{handleProfilesChoice:t,isProfilesPageAutoShowed:o,ref:r}=pe(e);return(0,y.jsx)(Mt,Ft(Ft({},e),{},{onHideProfilesChoice:t,isProfilesPageAutoShowed:o,setElementRef:r}))};var Ut=o(97279),Gt=o(77689);const qt="content-announcement",Wt="content-announcement_v2";var $t=o(38973),Qt=o(69769),Yt=o(90756);function Kt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Xt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Kt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const Jt=e=>{const t=(0,$t.Z)(Date.now()),o=(0,Qt.Z)(e.startDate,"yyyy-MM-dd",t),r=(0,Qt.Z)(e.endDate,"yyyy-MM-dd",t);return(0,Yt.Z)(t,{start:o,end:r})},eo=(e,t,o)=>e.filter((e=>e.contentId&&e[o]&&e[o])).map((e=>Xt(Xt({},e),{},{coverUrl:(0,X.mT)(e[t])?e[t]:`${e[t]}/orig`,logoUrl:(0,X.mT)(e[o])?e[o]:`${e[o]}/orig`}))),to=e=>{if(e&&"pages"in e){const t=eo(e.pages,"coverImage","logoImage").filter(Jt);return e.random&&t?(e=>{const t=e.slice();for(let o=t.length-1;o>0;o--){const e=Math.floor(Math.random()*(o+1));[t[o],t[e]]=[t[e],t[o]]}return t})(t):t}return eo(e.items,"coverUrl","logoUrl")};var oo=o(69184);const{promotionConfig:ro}=me()().publicRuntimeConfig,io=()=>{const{isWaiting:e,notification:t}=(0,oo.l)({variables:{consumer:"profile-choosing",platform:(null===ro||void 0===ro?void 0:ro.platform)||"",supportedTemplateIds:[qt,Wt],supportedTemplateToActions:{[qt]:[],[Wt]:[]}}}),o=(0,r.useMemo)((()=>(e=>{const{payload:t,notificationPayloadId:o}=e||{},r=t&&to(t);return o&&r.length?{notificationPayloadId:o,payload:{items:r}}:null})(t)),[t]),[i]=(0,Ut.D)(Gt.r);if(o){const{notificationPayloadId:t,payload:r}=o;return{notification:r,onView:()=>{i({variables:{notificationPayloadId:t}})},isLoading:e}}return{notification:null,onView:Pe.Z,isLoading:e}};function no(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function so(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?no(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):no(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const lo=e=>{const{isLoading:t,onView:o,notification:r}=io();return(0,y.jsx)(Ht,so(so({},e),{},{movies:null===r||void 0===r?void 0:r.items,isLoading:t,onFirstMovieShow:o}))},ao=()=>{var e,t,o,i,n,s,l;const{data:a,loading:c}=(0,Y.Y)(),u=(0,te.e)(),f=ne(),{isEditing:d,retPath:p=(0,z.b)()}=(()=>{const{[ce.cG.IS_EDITING]:e}=(0,T.useRouter)().query;return{isEditing:"1"===e,retPath:(0,Z.C)()}})(),{onAnimationPlay:h,isSubProfileAnimationEnabled:b}={isSubProfileAnimationEnabled:(0,E.le)(R.G6)!==R.$z,onAnimationPlay:(0,r.useCallback)((()=>{(0,E.D$)(R.G6,R.$z)}),[])};(0,K.r)(null===a||void 0===a?void 0:a.userProfile,"UserProfile");const[m]=(0,oe.H)(a.userProfile,!1),g=(0,ee.R)(a.userProfile.family,J.WQ.PROFILE_BIG_AVATAR),O=(0,ie.g)({family:null===(e=a.userProfile)||void 0===e?void 0:e.family,currentUserProfilePuid:null!==(t=null===a||void 0===a||null===(o=a.userProfile)||void 0===o?void 0:o.id.puid)&&void 0!==t?t:void 0,yandexMultiAccounts:null===(i=a.userProfile)||void 0===i?void 0:i.yandex,imageSize:J.WQ.PROFILE_BIG_AVATAR,familyProfileRetpath:`${window.location.origin}${(0,le.x)()}`}),P=Boolean(null===a||void 0===a||null===(n=a.userProfile)||void 0===n||null===(s=n.family)||void 0===s?void 0:s.familyAdmin),v=(0,se.E)(),_=Boolean(O.length),j=()=>{(0,E.e8)(R.TY)};return(0,y.jsx)(lo,{onAnimationPlay:h,onRegisterNewSubProfile:e=>{(0,E.D$)(R.TY,R.i5),m({variables:{input:{displayName:e.name,birthday:e.birthday||null,avatarUrl:e.avatarUrl,restrictions:{ageRestrictionGroup:(0,ae.xQ)(e.ageRestrictionGroup),ageRestriction:null},gender:(0,re.D)(e.gender)}}}).then((e=>{var t,o,r,i,n,s,l,a,c;const{ottId:f}=(null===(t=e.data)||void 0===t||null===(o=t.userProfile)||void 0===o||null===(r=o.userKidSubProfile)||void 0===r||null===(i=r.create)||void 0===i||null===(n=i.userKidSubProfile)||void 0===n?void 0:n.id)||{};f&&(null===(s=e.data)||void 0===s||null===(l=s.userProfile)||void 0===l||null===(a=l.userKidSubProfile)||void 0===a||null===(c=a.create)||void 0===c?void 0:c.status)===A.ne.Success&&u(f)})).catch(j)},onHideProfilesChoice:()=>{(0,E.D$)(R.el,R.ct)},onProfileSelect:e=>{e?u(e):f()},profileOttId:a.userProfile.id.ottId||0,profileDisplayName:a.userProfile.displayName||"",profileImage:(0,X.fM)((null===(l=a.userProfile.avatar)||void 0===l?void 0:l.avatarsUrl)||"","orig"),isSubProfileAnimationEnabled:b,subProfiles:g,familyProfiles:O,isSubProfilesLoaded:!c,isEditing:d,hasFamily:_,profileIsAdmin:P,retPath:p,profileHasSubscription:v})};var co=o(79718),uo=o(90425),fo=o(16009);const po=[];var ho=o(29905),bo=o.n(ho);function mo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}const yo=Qe().bind(bo()),go=(0,We.q)(Ae.PROFILES_MOUNTED)((e=>{const{subProfiles:t,isEditing:o}=e,i=(0,r.useMemo)((()=>(e=>{const{subProfiles:t=po,isEditing:o}=e,r=t.findIndex((e=>{let{parentalControlEnabled:t}=e;return t}));let i="top-center";if(r<0)return i;const n=o?0:1,s=r+n+1,l=t.length+n+1;return l<4||(s%5===0?i="top-right":s%5===1&&l-s>=4&&(i="top-left")),i})({subProfiles:t,isEditing:o})),[t,o]),n=Dt(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):mo(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({hintClassName:yo("hint"),deniedProfileHintDirection:i},e));return(0,y.jsx)(fo.l,{className:yo("root"),itemClassName:yo("list-item"),scrollContainerClassName:yo("carousel-scroll-profiles"),buttonsClassName:yo("carousel-buttons"),buttonsGradientEnabled:!0,children:n.map(((e,t)=>(0,y.jsx)("div",{"data-tid":"component",children:e},t)))})}));var Oo=o(2581),Po=o.n(Oo);const vo=Qe().bind(Po()),_o=(0,uo.tq)(),jo=e=>{let{subProfiles:t,familyProfiles:o,profileOttId:r,profileDisplayName:i,profileImage:n,profileAgeRestriction:s,onProfileSelect:l,onHideProfilesChoice:a,onRegisterNewSubProfile:c=Pe.Z,isSubProfileAnimationEnabled:u=!1,onAnimationPlay:f=Pe.Z,isSubProfilesLoaded:d=!1,isEditing:p=!1,hasFamily:h=!1,profileIsAdmin:b=!1,retPath:m,profileHasSubscription:g,setElementRef:O,isProfilesPageAutoShowed:P}=e;const v=null!==t&&void 0!==t&&t.length||!d?void 0:(0,ve.q)(),_=(0,_e.N)();return(0,y.jsx)(we.L,{header:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Se.v,{}),(0,y.jsx)(je.r,{})]}),children:(0,y.jsxs)("main",{className:vo("root",{isMobile:_o}),ref:O,"data-tid":"ProfilesFamilyPage",children:[(0,y.jsx)(co.xv,{tag:co.rh.H1,theme:ce.Q2.Dark,size:co.yH.TitlePage,weight:co.fs.Bold,className:vo("title"),children:(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-family-page.05744bedee16b9dc56ba8c442ba1aea9"})}),(0,y.jsx)(co.xv,{tag:co.rh.P,theme:ce.Q2.Dark,size:co.yH.Subtitle,weight:co.fs.Regular,className:vo("subtitle"),children:h?(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-family-page.c8694d7a00f9e50e1f29f4edd782d56b"}):(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-family-page.a29e4ca96344a643733d40005f12c440"})}),(0,y.jsx)(go,{profileOttId:r,profileDisplayName:i,profileImage:n,profileAgeRestriction:s,subProfiles:t,familyProfiles:o,onProfileSelect:l,isEditing:p,onRegisterNewSubProfile:c,subProfileDraft:v,isSubProfileAnimationEnabled:u,onAnimationPlay:f,profileIsAdmin:b,profileHasSubscription:g,isProfilesPageAutoShowed:P}),!_&&(0,y.jsx)("div",{className:vo("button-container"),children:(0,y.jsx)(Ce.r,{to:m,onClick:a,children:(0,y.jsx)(ye.z,{className:vo("button"),colorScheme:Oe.u.Dark,buttonType:ge.L.Secondary,size:ge.q.size40,children:(0,y.jsx)(he.Z,{id:"pages.profiles.ui.profiles-family-page.7e534bf57728c1a987bfb1a79c2c9f58"})})})})]})})};function wo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function So(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):wo(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const Co=e=>{const{handleProfilesChoice:t,isProfilesPageAutoShowed:o,ref:r}=pe(e);return(0,y.jsx)(jo,So(So({},e),{},{onHideProfilesChoice:t,isProfilesPageAutoShowed:o,setElementRef:r}))},xo=()=>{var e,t,o,r,i,n,s;const{data:l}=(0,Y.Y)(),a=ne(),c=(0,Z.C)()||(0,z.b)();(0,K.r)(null===l||void 0===l?void 0:l.userProfile,"UserChildProfile");const u=(0,ie.g)({family:null===l||void 0===l||null===(e=l.userProfile)||void 0===e?void 0:e.family,currentUserProfilePuid:null!==(t=null===l||void 0===l||null===(o=l.userProfile)||void 0===o?void 0:o.id.puid)&&void 0!==t?t:void 0,yandexMultiAccounts:null===l||void 0===l||null===(r=l.userProfile)||void 0===r?void 0:r.yandex,imageSize:J.WQ.PROFILE_BIG_AVATAR,familyProfileRetpath:window.location.origin}),f=Boolean(null===l||void 0===l||null===(i=l.userProfile)||void 0===i||null===(n=i.family)||void 0===n?void 0:n.familyAdmin),d=(0,se.E)(),p=Boolean(u.length);return(0,y.jsx)(Co,{onHideProfilesChoice:()=>{(0,E.D$)(R.el,R.ct)},onProfileSelect:e=>{e||a()},profileOttId:(null===l||void 0===l?void 0:l.userProfile.id.ottId)||0,profileDisplayName:(null===l||void 0===l?void 0:l.userProfile.displayName)||"",profileImage:(0,X.fM)((null===l||void 0===l||null===(s=l.userProfile.avatar)||void 0===s?void 0:s.avatarsUrl)||"","orig"),familyProfiles:u,hasFamily:p,profileIsAdmin:f,retPath:c,profileHasSubscription:d,profileAgeRestriction:(0,ae.oW)(l.userProfile.restrictions.ageRestriction)})},Ro=()=>(0,Q.o)().profileType===A.uy.ChildUserProfile?(0,y.jsx)(xo,{}):(0,y.jsx)(ao,{}),Eo=(0,x.y)((()=>((0,r.useEffect)((()=>{(0,E.D$)(R.Gy,String(Date.now()))}),[]),(0,y.jsxs)($.z,{children:[(0,y.jsx)(Ro,{}),(0,y.jsx)(W,{})]})))),Ao=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(P,{}),(0,y.jsx)(Eo,{})]});Ao.getInitialProps=(0,i.q)(...[w.E,v.x,_.b].filter(S.y))((async()=>({})));var Do=(0,i.q)(n.s,(0,s.i)((e=>o(44047)(`./${e}.json`))),(0,j.m)("profiles-page"),a.C,l.m,C.v)(Ao)},20917:function(e,t,o){"use strict";o.d(t,{r:function(){return m}});o(37667);var r=o(9246),i=o.n(r),n=o(90425),s=o(70204),l=o(4472),a=o(91750),c=o(47934);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,l.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const d=e=>(0,c.jsx)(a.B,f(f({},e),{},{serverRouting:!1}));var p=o(70242),h=o.n(p);const b=(0,n.tq)(),m=e=>{let{fixed:t}=e;const{isGraceToplineVisible:o}=(0,s.H)();return(0,c.jsx)("header",{className:i()(h().header,{[h().fixed]:t||o,[h().graceTopLineVisible]:o,[h().mobile]:b}),"data-tid":"ProfilesHeader",children:(0,c.jsx)(d,{isMobile:b})})}},24459:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profiles",function(){return o(25953)}])},31405:function(e){e.exports={root:"CarouselContainer_root__MEw30",button:"CarouselContainer_button__R63ff",root_empty:"CarouselContainer_root_empty__7a0BX","root_conceal-buttons":"CarouselContainer_root_conceal-buttons__6um8o","root_hide-buttons_both":"CarouselContainer_root_hide-buttons_both__H3xpC","root_hide-buttons_left":"CarouselContainer_root_hide-buttons_left__2Z3Sf","button-left":"CarouselContainer_button-left__4WTaY","root_hide-buttons_right":"CarouselContainer_root_hide-buttons_right__CBedV","button-right":"CarouselContainer_button-right__b4Y7v","root_with-buttons-gradient":"CarouselContainer_root_with-buttons-gradient__e3Hik",root_vertical:"CarouselContainer_root_vertical__CPrP9",scroll:"CarouselContainer_scroll__gitjp",scroll_horizontal:"CarouselContainer_scroll_horizontal__aFtwK",scroll_vertical:"CarouselContainer_scroll_vertical__KSP7y"}},74385:function(e){e.exports={root:"CarouselItem_root__LAO9L","root_opacity-0":"CarouselItem_root_opacity-0__mwn8J","root_opacity-1":"CarouselItem_root_opacity-1__VsLIW","root_opacity-2":"CarouselItem_root_opacity-2__8Yr7l","root_opacity-3":"CarouselItem_root_opacity-3__8U07q","root_opacity-4":"CarouselItem_root_opacity-4__CrQ23","root_opacity-5":"CarouselItem_root_opacity-5__vzgbF","root_opacity-6":"CarouselItem_root_opacity-6__nnump","root_opacity-7":"CarouselItem_root_opacity-7__vqAIa","root_opacity-8":"CarouselItem_root_opacity-8__sXBU1","root_opacity-9":"CarouselItem_root_opacity-9__p1F6G","root_opacity-10":"CarouselItem_root_opacity-10__kUktR"}},5166:function(e){e.exports={root:"ScrollButton_root__D48lM"}},90554:function(e){e.exports={root:"styles_root__3kiyA",button:"styles_button__nT1wp","root-horizontal":"styles_root-horizontal__TXwkh",text:"styles_text__xb6L8"}},96085:function(e){e.exports={movie:"styles_movie__MGNJN",movieActive:"styles_movieActive__E4U48",cover:"styles_cover__kcc8Z",coverAnimation:"styles_coverAnimation___1Tvj",titleLogoBlock:"styles_titleLogoBlock__AF28i",logoAnimation:"styles_logoAnimation__9n7At",movieInfiniteAnimation:"styles_movieInfiniteAnimation__2NwT7",coverSlide:"styles_coverSlide__GYDhX",coverOpacity:"styles_coverOpacity___93ks",logoSlide:"styles_logoSlide__IG_Ie",logoOpacity:"styles_logoOpacity__sqvQc",background:"styles_background__d5uz3",titleLogo:"styles_titleLogo__bjadf",text:"styles_text__AG6I_"}},90508:function(e){e.exports={root:"styles_root__qNn_y",avatar:"styles_avatar__zgHCw","root-with-animation":"styles_root-with-animation__vEjce","root-horizontal":"styles_root-horizontal__2ARSo",text:"styles_text__4_Tfr","sub-text":"styles_sub-text__4RwMW"}},86590:function(e){e.exports={backgroundFallback:"styles_backgroundFallback__tF37S",backgroundFallbackActive:"styles_backgroundFallbackActive__ak86v",fallbackOpacity:"styles_fallbackOpacity__Mc0L1"}},97212:function(e){e.exports={announcementBackground:"styles_announcementBackground__BslZb",announcementBackgroundGradient:"styles_announcementBackgroundGradient__ZD_Xh"}},29905:function(e){e.exports={root:"styles_root__H4z82",profiles:"styles_profiles__2I548","list-item":"styles_list-item__Mor7d",hint:"styles_hint__0BoTO","carousel-scroll-profiles":"styles_carousel-scroll-profiles__CENgX","carousel-buttons":"styles_carousel-buttons__hYbb7"}},2581:function(e){e.exports={root:"styles_root__kmmQz",isMobile:"styles_isMobile__waiQ_",title:"styles_title__WnONY",subtitle:"styles_subtitle__LveKL","button-container":"styles_button-container__EGYLz"}},62199:function(e){e.exports={root:"styles_root__pLwct",item:"styles_item__uCZL8",hint:"styles_hint__KD36_"}},74363:function(e){e.exports={root:"styles_root__8O_lL",content:"styles_content__YMoMT",fade:"styles_fade__ye4vR",title:"styles_title__uLPm_"}},70242:function(e){e.exports={header:"styles_header__GUYH6",fixed:"styles_fixed__j1dsb",graceTopLineVisible:"styles_graceTopLineVisible__T6c7X",mobile:"styles_mobile__IKsEV"}}},function(e){e.O(0,[7268,4709,6200,6658,417,3380,5466,1001,9774,2888,179],(function(){return t=24459,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/hd-www/release/_next/static/chunks/pages/profiles-b7550bce55e5c8e7.js.map