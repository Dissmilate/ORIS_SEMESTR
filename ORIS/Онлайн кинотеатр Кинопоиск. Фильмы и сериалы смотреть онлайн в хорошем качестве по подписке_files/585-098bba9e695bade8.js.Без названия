(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{7098:function(e,t){"use strict";function n(e){function t(t,o,i,s){var a=o?n+t+e.e+o:n+t,c=a;if(i){var u=" "+c+e.m;for(var f in i)if(i.hasOwnProperty(f)){var l=i[f];!0===l?c+=u+f:l&&(c+=u+f+r+l)}}if(void 0!==s)for(var d=0,h=s.length;d<h;d++){var p=s[d];if(p&&"string"==typeof p.valueOf())for(var m=p.valueOf().split(" "),v=0;v<m.length;v++){var y=m[v];y!==a&&(c+=" "+y)}}return c}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,o,i){return"string"==typeof r?Array.isArray(o)?t(e,r,void 0,o):t(e,r,o,i):t(e,n,r,o)}}}var r=n({e:"-",m:"_"});t.cn=r},44103:function(e,t,n){"use strict";e.exports=n(7098)},27303:function(e,t,n){"use strict";n.d(t,{ZP:function(){return k},Vo:function(){return C}});var r=n(37667),o=n.n(r);function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}var u=n(85905),f=n(99517),l=n.n(f);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var h=o().createContext();var p={initialChunks:{}},m="PENDING",v="REJECTED";var y=function(e){return e};function g(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,r=e.render,f=e.onLoad;function g(e,t){void 0===t&&(t={});var y=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),g={};function b(e){return t.cacheKey?t.cacheKey(e):y.resolve?y.resolve(e):"static"}function w(e,r,o){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,u.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return l()(o,i,{preload:!0}),i}var _=function(e){var t=b(e),n=g[t];return n&&n.status!==v||((n=y.requireAsync(e)).status=m,g[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e),chunkName:y.chunkName(e),error:t?t.message:t}),n.status=v}))),n},E=function(e){var t=function(t){return o().createElement(h.Consumer,null,(function(n){return o().createElement(e,Object.assign({__chunkExtractor:n},t))}))};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t}(function(e){var n,o;function u(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:b(n)},d(!n.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(y.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(y.chunkName(n))),a(r)):(!1!==t.ssr&&(y.isReady&&y.isReady(n)||y.chunkName&&p.initialChunks[y.chunkName(n)])&&r.loadSync(),r)}o=e,(n=u).prototype=Object.create(o.prototype),n.prototype.constructor=n,c(n,o),u.getDerivedStateFromProps=function(e,t){var n=b(e);return s({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var l=u.prototype;return l.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},l.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},l.componentWillUnmount=function(){this.mounted=!1},l.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},l.getCacheKey=function(){return b(this.props)},l.getCache=function(){return g[this.getCacheKey()]},l.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},l.triggerOnLoad=function(){var e=this;f&&setTimeout((function(){f(e.state.result,e.props)}))},l.loadSync=function(){if(this.state.loading)try{var e=w(y.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},l.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=w(t,e.props,S);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},l.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,i(e,["__chunkExtractor","forwardedRef"]));return _(t)},l.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,a=(e.__chunkExtractor,i(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,u=c.error,f=c.loading,l=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(u)throw u;var d=o||t.fallback||null;return f?d:r({fallback:d,result:l,options:t,props:s({},a,{ref:n})})},u}(o().Component)),S=o().forwardRef((function(e,t){return o().createElement(E,Object.assign({forwardedRef:t},e))}));return S.displayName="Loadable",S.preload=function(e){S.load(e)},S.load=function(e){return _(e)},S}return{loadable:g,lazy:function(e,t){return g(e,s({},t,{suspense:!0}))}}}var b=g({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o().createElement(t,n)}}),w=b.loadable,_=b.lazy,E=g({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=E.loadable,O=E.lazy;var P=w;P.lib=S;var C=_;C.lib=O;var k=P},41735:function(e,t,n){"use strict";n.d(t,{RJ:function(){return q}});class r{transport;constructor(e){this.transport=e,this.transport=e}trackEvent(e,t){this.transport.send({event:e,parameters:t})}}var o=n(14573);class i{schemeName="plus_payment_analytic";puid="NO_VALUE";constructor(e){e&&(this.puid=e)}getGlobalParams(){return{scheme_name:this.schemeName,event_id:(0,o.Z)(),timestamp:Date.now(),puid:this.puid}}updatePuid(e){this.puid=e||"NO_VALUE"}}function s(e,t={}){return{event:{version:e},interfaces:t}}class a{trackEvent;constructor(e,t,n){const{trackEvent:r}=function(e,t,n){return{trackEvent:(r,o)=>{const i={...o,...t.getGlobalParams(),...n.getPlatformParams()};e.trackEvent(r,i)}}}(e,t,n);this.trackEvent=r}}class c{yandexUid;userAgent;screenWidth;screenHeight;integration="Widget";constructor(e,t,n,r){this.yandexUid=e,this.userAgent=t,this.screenWidth=n,this.screenHeight=r,this.userAgent=t,this.yandexUid=e,this.screenHeight=r,this.screenWidth=n}getPlatformParams(){return{screen_height:this.screenHeight||"NO_VALUE",screen_width:this.screenWidth||"NO_VALUE",integration:this.integration,user_agent:this.userAgent||"NO_VALUE",yandex_uid:this.yandexUid||"NO_VALUE"}}}var u="undefined"!==typeof document,f="undefined"!==typeof window,l="undefined"!=typeof navigator,d="undefined"!=typeof screen;function h(){return f&&window.location?window.location.href:""}function p(){return u?document.referrer:""}function m(e,t){return(e||"").slice(0,t)}function v(){return Math.floor(Math.random()*(1<<30))}function y(e,t,n){(n||0===n)&&e.push(t+":"+(!0===n?"1":n))}function g(e,t){var n=[];e&&Object.keys(e).forEach((function(t){return y(n,t,e[t])})),y(n,"rn",v()),y(n,"c",!!l&&navigator.cookieEnabled),y(n,"s",d?[screen.width,screen.height,screen.colorDepth].join("x"):""),y(n,"w",f?[window.innerWidth,window.innerHeight].join("x"):""),y(n,"en",u&&"string"===typeof document.charset?document.charset.toLowerCase():"");var r=Math.round(Date.now()/1e3);return y(n,"et",r),y(n,"st",r),y(n,"t",m(t,512)),n.join(":")}function b(e){return m(e,1024)}function w(e,t){var n="https://mc.yandex.ru/watch/"+e+"?"+function(e){return Object.keys(e).filter((function(t){return e[t]||0===e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(t);"undefined"!==typeof navigator&&navigator.sendBeacon&&navigator.sendBeacon(n," ")||("undefined"!==typeof fetch?fetch(n,{credentials:"include"}).catch((function(){})):"undefined"!==typeof Image&&((new Image).src=n))}function _(e){var t=e.browserInfo,n=e.counterId,r=e.pageParams,o=e.params,i={"browser-info":g(t,r.title),rn:v(),ut:r.ut};r.url&&(i["page-url"]=b(r.url)),r.referrer&&(i["page-ref"]=b(r.referrer)),o&&(i["site-info"]=JSON.stringify(o)),w(n,i)}function E(e,t,n){var r,o;t?(r=h(),o="goal://"+(f&&window.location?window.location.hostname:"")+"/"+t):(r=p(),o=h()),_({browserInfo:{ar:!0},counterId:e,pageParams:{referrer:r,url:o},params:n})}n(73952),n(15966);var S="pw-host",O="pm-host",P="pw-tools-debug",C=/_pw_tools_debug=([01]?)/;function k(e,t){let n=function(e){let t=e.match(C);return t&&t[1]?t[1]:null}(e),r=T(n);return n?(t.setItem(P,`${r}`),r):T(t.getItem(P))}function T(e){return"1"===e||"true"===e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return"production"===e?"":".tst"}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={subscription:"plusPaymentSession",gift:"plusGiftPaymentSession"};function M(e,t,n){E(function(e){return e.replace(/\D/g,"")}(e),L[n],{plusPaymentSessionId:t})}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function U(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function x(e){return new Promise(((t,n)=>{let r=document.createElement("script");r.type="text/javascript",r.src=e,r.crossOrigin="anonymous",r.onload=t,r.onerror=n,r.async=!0,document.head.appendChild(r)}))}function N(){return"undefined"!=typeof document?document.location.hostname:""}function H(e){let t=e.split(".");if(t.length<2)throw Error(`AcqToolkit: Bad hostname "${e}" for loading payment-manager`);return t.slice(-2).join(".")}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=class e{getYandexUID(){let{yandexuid:e=""}=function(){try{return"undefined"==typeof document?"":document.cookie}catch(e){return console.warn(e),""}}().split(";").reduce(((e,t)=>{let[n,r]=t.split("=");return n&&r&&(e[n]=r),e}),{});return e}getCustomParams(){return"smarttv"===this.options.platform?{device_id:this.options.deviceId}:{}}static from(t){return e.instance?console.warn("Double initialization of PWTools. Please check you code and avoid doing so"):(e.inProcess=!0,e.instance=new e(t),e.inProcess=!1),e.instance}loadManager(e){return this.manager.load(e)}destroy(){e.instance=null}constructor(t){var n;if(B(this,"options",void 0),B(this,"manager",void 0),B(this,"plusPaymentEvents",void 0),this.options=t,this.options=t,!e.inProcess)throw Error("Unexpected use of PWTools constructor. Use PWTools.from for initialization");let o=new class{setPMHost(e){this.enabled&&this.storage.setItem(O,e)}setPWHost(e){this.enabled&&this.storage.setItem(S,e)}isEnabled(){return this.enabled}getPMHost(){return this.enabled?this.storage.getItem(O):null}getPWHost(){return this.enabled?this.storage.getItem(S):null}constructor(e,t){var n;j(this,"storage",void 0),j(this,"enabled",void 0),this.storage=t,this.enabled=!1,this.enabled=k(e,t),this.storage=t,this.enabled&&(n=this,window.__pwToolsDebug=n)}}("undefined"!=typeof window?window.location.href:"",class{static getItem(e){try{return window.sessionStorage&&"function"==typeof window.sessionStorage.getItem?window.sessionStorage.getItem(e):null}catch(t){return null}}static setItem(e,t){try{return window.sessionStorage&&"function"==typeof window.sessionStorage.setItem?window.sessionStorage.setItem(e,t):void 0}catch(n){}}}),u=null!==(n=t.etld)&&void 0!==n?n:H(N()),f=(window.YaMBPaymentManager=window.YaMBPaymentManager||[],window.YaMBPaymentManager);this.manager=new class{getUrl(e){let t=e;if(!e){let e=A(this.environment);t=`${function(e){switch(e){case"web":return"payment-widget";case"smarttv":return"payment-widget-smarttv";default:throw Error(`Unknown platform ${e}. Cant find host for this platform`)}}(this.platform)}.plus${e}.${this.eTLD}`}return`https://${t}/payment-manager.js`}load({isForceLoad:e}={}){return(!this.scriptLoadPromise||e||this.isError)&&(this.scriptLoadPromise=this.appendScript(this.url).then((()=>(this.isError=!1,this))).catch((()=>(this.isError=!0,this)))),this.scriptLoadPromise}send(e){this.manager.push(e)}constructor(e,t,n,r,o,i,s){D(this,"environment",void 0),D(this,"platform",void 0),D(this,"eTLD",void 0),D(this,"appendScript",void 0),D(this,"manager",void 0),D(this,"url",void 0),D(this,"isError",void 0),D(this,"scriptLoadPromise",void 0),this.environment=e,this.platform=t,this.eTLD=n,this.appendScript=i,this.manager=s,this.url="",this.isError=!1,this.scriptLoadPromise=null,this.environment=e,this.platform=t,this.eTLD=n,this.manager=s,this.appendScript=i,this.url=this.getUrl(o.getPMHost()),r&&this.load()}}(t.environment,t.platform,u,t.preloadManager||!1,o,x,f);let l=new r(new class{send(e){this.manager.send({type:"send-dwh-event",options:e})}constructor(e){var t,n;n=void 0,(t="manager")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.manager=e,this.manager=e}}(this.manager)),d=new i(t.puid),h="undefined"==typeof navigator?"":navigator.userAgent,{width:p,height:m}="undefined"!=typeof window?{width:`${window.screen.width}`,height:`${window.screen.height}`}:{width:"",height:""},v=new a(l,d,new c(this.getYandexUID(),h,p,m));this.plusPaymentEvents=new class{frontSessionStart(e,t){let n=e.session_id;this.bindPlusPaymentSession(t,n,"subscription"),function(e,t){const n={...t,_meta:s(1)};e.trackEvent("PlusPayment.FrontSessionStart",n)}(this.logger,U(R({},e),{external_id:this.externalId||"NO_VALUE",custom_parameters:U(R({},this.customParameters),{metrikaCounterId:t}),test_ids:"NO_VALUE",triggered_test_ids:"NO_VALUE"}))}frontGiftSessionStart(e,t){let n=e.session_id;this.bindPlusPaymentSession(t,n,"gift")}loadOffersResulted(e){!function(e,t){const n={...t,_meta:s(1)};e.trackEvent("PlusPayment.LoadOffers.Resulted",n)}(this.logger,e)}offerShow(e){!function(e,t){const n={...t,_meta:s(1)};e.trackEvent("PlusPayment.Offer.Show",n)}(this.logger,U(R({},e),{custom_parameters:this.customParameters}))}offerClick(e){!function(e,t){const n={...t,_meta:s(1)};e.trackEvent("PlusPayment.Offer.Click",n)}(this.logger,U(R({},e),{custom_parameters:this.customParameters}))}updateCustomParameters(e){this.customParameters=R({},this.customParameters,e)}generateGiftSessionId(){return Math.floor(9e9*Math.random())}constructor(e,t,n,r){I(this,"logger",void 0),I(this,"bindPlusPaymentSession",void 0),I(this,"customParameters",void 0),I(this,"externalId",void 0),this.logger=e,this.bindPlusPaymentSession=t,this.externalId=null,this.logger=e,this.externalId=n.externalId,this.customParameters=R({},r),this.bindPlusPaymentSession=t}}(v,M,{service:t.widgetServiceName,externalId:t.serviceSessionId},this.getCustomParams())}};B(q,"instance",void 0),B(q,"inProcess",!1)},73952:function(e,t,n){var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n&&n,r="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,a="ArrayBuffer"in n;if(a)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},o&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];S.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(C){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(e,r){return new Promise((function(o,s){var c=new w(e,r);if(c.signal&&c.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:E(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){o(new S(t,e))}),0)},u.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},u.open(c.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&(i?u.responseType="blob":a&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!r||"object"!==typeof r.headers||r.headers instanceof h?c.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){u.setRequestHeader(e,l(r.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",f)}),u.send("undefined"===typeof c._bodyInit?null:c._bodyInit)}))}P.polyfill=!0,n.fetch||(n.fetch=P,n.Headers=h,n.Request=w,n.Response=S),t.Headers=h,t.Request=w,t.Response=S,t.fetch=P}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=r.fetch?r:o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},61059:function(e){"use strict";e.exports=function(e,t,n,r,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],f=0;(c=new Error(t.replace(/%s/g,(function(){return u[f++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},9709:function(e,t){"use strict";t.my=t.ut=t.Qc=t.uj=void 0;var n="\\d+",r="".concat(n,"(?:[\\.,]").concat(n,")?"),o="(".concat(n,"Y)?(").concat(n,"M)?(").concat(n,"W)?(").concat(n,"D)?"),i="T(".concat(r,"H)?(").concat(r,"M)?(").concat(r,"S)?"),s="P(?:".concat(o,"(?:").concat(i,")?)"),a=["years","months","weeks","days","hours","minutes","seconds"],c=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});t.uj=new RegExp(s);t.Qc=function(e){var n=e.replace(/,/g,".").match(t.uj);if(!n)throw new RangeError("invalid duration: ".concat(e));var r=n.slice(1);if(0===r.filter((function(e){return null!=e})).length)throw new RangeError("invalid duration: ".concat(e));if(r.filter((function(e){return/\./.test(e||"")})).length>1)throw new RangeError("only the smallest unit can be fractional");return r.reduce((function(e,t,n){return e[a[n]]=parseFloat(t||"0")||0,e}),{})};t.ut=function(e,t){void 0===t&&(t=new Date);var n=Object.assign({},c,e),r=t.getTime(),o=new Date(r);o.setFullYear(o.getFullYear()+n.years),o.setMonth(o.getMonth()+n.months),o.setDate(o.getDate()+n.days);var i=3600*n.hours*1e3,s=60*n.minutes*1e3;return o.setMilliseconds(o.getMilliseconds()+1e3*n.seconds+i+s),o.setDate(o.getDate()+7*n.weeks),o};t.my=function(e,n){void 0===n&&(n=new Date);var r=Object.assign({},c,e),o=n.getTime(),i=new Date(o);return((0,t.ut)(r,i).getTime()-i.getTime())/1e3},t.ut,t.my,t.uj,t.Qc},94403:function(e,t,n){var r=n(16731),o=function(e){var t="",n=Object.keys(e);return n.forEach((function(o,i){var s=e[o];(function(e){return/[height|width]$/.test(e)})(o=r(o))&&"number"===typeof s&&(s+="px"),t+=!0===s?o:!1===s?"not "+o:"("+o+": "+s+")",i<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=o(n),r<e.length-1&&(t+=", ")})),t):o(e)}},69191:function(e,t,n){"use strict";n.d(t,{$K:function(){return d},Kq:function(){return a},ab:function(){return c},cK:function(){return f},dp:function(){return l},nW:function(){return u}});var r=n(4472),o=n(6288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){const t={_meta:(0,o.w6)(1)};e.trackEvent("Header.Showed",t)}let c;function u(e,t){const n=(0,o.w6)(1),r=s(s({},t),{},{from:"Header",_meta:n});e.trackEvent("Header.Navigated",r)}function f(e,t){const n=(0,o.w6)(1,{offerSubscriptionWithoutContent:{version:3}}),r=s(s({},t),{},{eventType:"offer",eventSubtype:"subscriptionWithoutContent",actionType:"show",page:"Header",monetizationModel:"SVOD",_meta:n});e.trackEvent("Header.SubscriptionOffer.Showed",r)}function l(e,t){const n=(0,o.w6)(1,{offerSubscriptionWithoutContent:{version:3}}),r=s(s({},t),{},{eventType:"offer",eventSubtype:"subscriptionWithoutContent",actionType:"click",page:"Header",monetizationModel:"SVOD",to:"payment",from:"Header",_meta:n});e.trackEvent("Header.SubscriptionOffer.Navigated",r)}function d(e,t){const n=(0,o.w6)(1,{offerSubscriptionWithoutContent:{version:3}}),r=s(s({},t),{},{eventType:"offer",eventSubtype:"subscriptionWithoutContent",actionType:"successfulPurchase",page:"Header",monetizationModel:"SVOD",_meta:n});e.trackEvent("Header.SubscriptionOffer.Succeed",r)}!function(e){e.DevicesLanding="devices_landing",e.AuthScreen="auth_screen",e.VerticalBar="vertical_bar",e.SportScreen="sport_screen",e.ProfilePreview="profile_preview",e.OnboardingPlusScreen="onboarding_plus_screen",e.MyMoviesScreen="my_movies_screen",e.ShopScreen="shop_screen",e.BookmarksScreen="bookmarks_screen",e.PurchasesScreen="purchases_screen",e.ProfileScreen="profile_screen",e.TvchannelsScreen="tvchannels_screen",e.MypageScreen="mypage_screen"}(c||(c={}))},40573:function(e,t,n){"use strict";n.d(t,{Hu:function(){return a},YO:function(){return c}});var r=n(4472),o=n(6288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let a;function c(e,t){const n=(0,o.w6)(1),r=s(s({},t),{},{from:"Header",_meta:n});e.trackEvent("ProfilePreview.Navigated",r)}!function(e){e.ProfileScreen="profile_screen",e.NewProfileScreen="new_profile_screen",e.AllProfilesScreen="all_profiles_screen",e.WatchingHistoryScreen="watching_history_screen",e.MarksScreen="marks_screen",e.MovieFoldersScreen="movie_folders_screen",e.FriendsScreen="friends_screen",e.PlusPointsScreen="plus_points_screen",e.GiftScreen="gift_screen",e.MessagesScreen="messages_screen",e.SubscriptionManagementScreen="subscription_management_screen",e.SettingsScreen="settings_screen",e.LicenseAgreementScreen="license_agreement_screen",e.SupportChat="support_chat",e.OtherAccount="other_account"}(a||(a={}))},53988:function(e,t,n){"use strict";n.d(t,{C7:function(){return g},EU:function(){return f},F6:function(){return l},Tq:function(){return y},dQ:function(){return b},kK:function(){return m},lI:function(){return w},nP:function(){return v},od:function(){return a},sA:function(){return p},sS:function(){return u},sy:function(){return h},wT:function(){return d},zC:function(){return c}});var r=n(4472),o=n(6288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){const n=(0,o.w6)(4,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.Loaded",r)}let c,u;function f(e,t){const n=(0,o.w6)(2,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{from:"search_tab_screen",_meta:n});e.trackEvent("SearchSuggest.Navigated",r)}function l(e,t){const n=(0,o.w6)(3,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.ErrorRaised",r)}function d(e,t){const n=(0,o.w6)(2,{searchGeneral:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.SuggestMode.Selected",r)}function h(e,t){const n=(0,o.w6)(3,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.PersonPreview.Showed",r)}function p(e,t){const n=(0,o.w6)(4,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{to:"person_card_screen",from:"search_tab_screen",_meta:n});e.trackEvent("SearchSuggest.PersonPreview.Navigated",r)}function m(e,t){const n=(0,o.w6)(3,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.CinemaPreview.Showed",r)}function v(e,t){const n=(0,o.w6)(4,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{to:"cinema_showtime_screen",from:"search_tab_screen",_meta:n});e.trackEvent("SearchSuggest.CinemaPreview.Navigated",r)}function y(e,t){const n=(0,o.w6)(1,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{eventType:"impression",eventSubtype:"orderedItem",page:"SearchTab",entityType:"Suggest",actionType:"show",_meta:n});e.trackEvent("SearchSuggest.MoviePreview.Showed",r)}function g(e,t){const n=(0,o.w6)(1,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{eventType:"impression",eventSubtype:"orderedItem",page:"SearchTab",entityType:"Suggest",actionType:"click",from:"search_tab_screen",_meta:n});e.trackEvent("SearchSuggest.MoviePreview.Navigated",r)}function b(e,t){const n=(0,o.w6)(2,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{_meta:n});e.trackEvent("SearchSuggest.MovieListPreview.Showed",r)}function w(e,t){const n=(0,o.w6)(3,{searchGeneral:{version:1},searchSuggest:{version:1}}),r=s(s({},t),{},{to:"movie_list",from:"search_tab_screen",_meta:n});e.trackEvent("SearchSuggest.MovieListPreview.Navigated",r)}!function(e){e.GlobalSearchResult="global_search_result",e.SearchResultCategory="search_result_category"}(c||(c={})),function(e){e.MovieCardScreen="movie_card_screen",e.KinopoiskMovieCard="kinopoisk_movie_card"}(u||(u={}))},48868:function(e,t,n){"use strict";n.d(t,{O7:function(){return c},Qm:function(){return a},RU:function(){return u}});var r=n(4472),o=n(6288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){const t={_meta:(0,o.w6)(1)};e.trackEvent("VerticalBar.Showed",t)}let c;function u(e,t){const n=(0,o.w6)(1),r=s(s({},t),{},{from:"vertical_bar",_meta:n});e.trackEvent("VerticalBar.Navigated",r)}!function(e){e.MovieCatalogScreen="movie_catalog_screen",e.SeriesCatalogScreen="series_catalog_screen",e.TicketsScreen="tickets_screen",e.MyMoviesScreen="my_movies_screen",e.OnboardingPlusScreen="onboarding_plus_screen",e.MediaTabScreen="media_tab_screen",e.MainScreen="MainScreen"}(c||(c={}))},18707:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(37667),o=n.n(r),i=n(44103),s=(n(97764),(0,i.cn)("UserWidget","Content")),a=o().forwardRef((function(e,t){var n=e.loading,r=e.preload,i=e.height,a=e.colorScheme,c=e.className,u=e.src,f=e.width;return o().createElement("div",{className:s({loading:n,colorScheme:a},[c]),"data-tid":"Content"},r&&o().createElement("iframe",{className:"UserWidget-Iframe",ref:t,width:f,src:u,height:n?300:i,"data-tid":"Content"}),n&&o().createElement("div",{className:"UserWidget-Spin","data-tid":"Content"}))}))},89437:function(e,t,n){"use strict";n.d(t,{C:function(){return j}});var r=n(63414),o=n(37667);var i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect,s=[],a=null,c=null;function u(){return s[s.length-1]}function f(e,t,n){var r,o,i=u();!i||!i.onClose||n&&n!==i.closeStrategy||("click"===t&&(r=i.refs,o=e.target,r.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(o)})))||i.onClose({nativeEvent:e,source:t}))}function l(e){var t=e.key;"Escape"!==t&&"Esc"!==t||f(e,"esc")}function d(e){a=e.target,c=u(),f(e,"click","pressdown")}function h(e){var t=a;a=null;var n=c;c=null,e.button>0||n===u()&&t===e.target&&f(e,"click","pressup")}var p,m,v=Object.freeze({count:function(){return s.length},addOverlay:function(e){0===s.length&&(document.addEventListener("keyup",l),document.addEventListener("pointerdown",d,!0),document.addEventListener("click",h,!0)),s.push(e)},removeOverlay:function(e){s.splice(s.indexOf(e),1),0===s.length&&(document.removeEventListener("keyup",l),document.removeEventListener("pointerdown",d,!0),document.removeEventListener("click",h,!0))},getTopOverlayOptions:u});var y=Date.now(),g="undefined"!==typeof performance?performance:null;(null===(p=null===g||void 0===g?void 0:g.timing)||void 0===p?void 0:p.navigationStart)&&(y=null===(m=null===performance||void 0===performance?void 0:performance.timing)||void 0===m?void 0:m.navigationStart);var b=g&&"function"===typeof g.now?function(){return g.now()}:"function"===typeof Date.now?function(){return Date.now()-y}:function(){return(new Date).getTime()-y},w=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};var _,E=["tr","am","ge"],S=["il"];function O(e){return e}!function(e){e.INIT="onInit",e.DATA_LOAD="onDataLoad",e.ITEM_CLICK="ITEM_CLICK",e.CLOSE="closeUserID",e.UPDATE_HEIGHT="updateUserHeight",e.UPDATE_THEME="updateTheme",e.UPDATE_LOCALE="updateLocale",e.UPDATE_RETPATH="updateRetpath",e.PARAMS_CHANGE="onParamsChanged",e.FOCUS_FIRST="focusFirst",e.SEND_TIME_TO_INTERACTIVE="onSendTimeToInteractive",e.UNKNOWN="unknown-event"}(_||(_={}));var P=function(){function e(e,t){this.counter=0,this.subscriptions={},this.sender=e,this.origin=t,this.listener=this.listener.bind(this)}return e.prototype.on=function(e,t,n){var r,o=this;void 0===n&&(n=O);var i=this.counter++,s={key:i,handler:t,mapper:n};return(null!==(r=this.subscriptions[e])&&void 0!==r?r:[]).push(s),void 0===this.subscriptions[e]&&(this.subscriptions[e]=[s]),function(){var t,n=null!==(t=o.subscriptions[e])&&void 0!==t?t:[];o.subscriptions[e]=n.filter((function(e){return e.key!==i}))}},e.prototype.notify=function(e,t,n){var r,o=null!==(r=this.subscriptions[e])&&void 0!==r?r:this.subscriptions[_.UNKNOWN];null===o||void 0===o||o.forEach((function(e){e.handler(e.mapper(t),n)}))},e.prototype.listener=function(e){var t=this;if(e.origin===this.origin){var n;try{n=JSON.parse(e.data)}catch(o){return}n.methodCall&&this.notify(n.methodCall,(0,r.pi)({},n),(function(e){var r;t.sender.sendMessage({returnCall:!0,params:e,resultCallbackIndex:(null===(r=n.resultCallbackIndex)||void 0===r?void 0:r.__callbackId)||-1})}))}},e.prototype.start=function(){window.addEventListener("message",this.listener)},e.prototype.stop=function(){window.removeEventListener("message",this.listener)},e.prototype.onUnknownEvent=function(e,t){return void 0===t&&(t=O),this.on(_.UNKNOWN,e,t)},e}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.onInit=function(e){return this.on(_.INIT,e,(function(e){return e.params[0]}))},t.prototype.onDataLoad=function(e){return this.on(_.DATA_LOAD,e)},t.prototype.onUpdateUserHeight=function(e){return this.on(_.UPDATE_HEIGHT,e,(function(e){return e.params[0].height}))},t.prototype.onItemClick=function(e){return this.on(_.ITEM_CLICK,e,(function(e){return e.params[0]}))},t.prototype.onClose=function(e){return this.on(_.CLOSE,e)},t.prototype.onUpdateTheme=function(e){return this.on(_.UPDATE_THEME,e,(function(e){return e.params[0].theme}))},t.prototype.onUpdateLocale=function(e){return this.on(_.UPDATE_LOCALE,e,(function(e){return e.params[0].locale}))},t}(P),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.updateRetpath=function(e){this.sendMessage({methodCall:_.UPDATE_RETPATH,params:[{retpath:e}]})},t.prototype.updateParams=function(e){this.sendMessage({methodCall:_.PARAMS_CHANGE,params:[(0,r.pi)({},e)]})},t.prototype.updateTheme=function(e,t){this.sendMessage({methodCall:_.UPDATE_THEME,params:[{colorScheme:e,theme:t}]})},t.prototype.focusFirstItem=function(e){this.sendMessage({methodCall:_.FOCUS_FIRST,params:[{fromKeyboard:e}]})},t.prototype.sendTimeToInteractive=function(e){this.sendMessage({methodCall:_.SEND_TIME_TO_INTERACTIVE,params:[{delta:e}]})},t}(function(){function e(e){this.messages=[],this._enabled=!1,this.postMessage=e}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.prototype.enable=function(){var e=this;this._enabled=!0,this.messages.forEach((function(t){e.postMessage(t)})),this.messages=[]},e.prototype.sendMessage=function(e){var t=JSON.stringify(e);this._enabled?this.postMessage(t):this.messages.push(t)},e}()),T=function(){function e(e,t){this.senderEnabled=!1,this.recieverEnabled=!1,this.sender=new k(t),this.reciever=new C(this.sender,e)}return e.prototype.enableSender=function(){this._enable("sender")},e.prototype.enableReciever=function(){this._enable("reciever")},e.prototype._enable=function(e){"sender"===e?this.senderEnabled=!0:this.recieverEnabled=!0,this.senderEnabled&&this.recieverEnabled&&this.sender.enable()},e}();function j(e){var t,n,s=e.avatarRef,a=e.avatarSize,c=void 0===a?[42,22]:a,u=e.colorScheme,f=void 0===u?"light":u,l=e.dialogClassName,d=e.dialogRef,h=e.dir,p=void 0===h?"ltr":h,m=e.env,y=void 0===m?"prod":m,g=e.essentialRef,_=e.features,O=e.fetchUserData,P=e.host,C=e.iframeRef,k=e.lang,j=e.onClose,A=e.onLoad,D=e.onMenuItemClick,L=e.onOpen,M=e.onThemeChange,I=e.onLocaleChange,R=e.platform,U=e.preload,x=void 0!==U&&U,N=e.project,H=e.queryParams,B=e.dynamicParams,q=e.retpath,W=e.rpcHandlers,F=e.theme,G=e.tld,V=void 0===G?"ru":G,K=e.touchBreakpointWidth,Z=e.userData,z=e.visible,$=void 0!==z&&z,Q=(0,o.useRef)({}),Y=(0,o.useRef)(null),J=(0,o.useRef)(null),X=(0,o.useRef)(null),ee=function(e){return(0,o.useMemo)((function(){return E.includes(e)?"com."+e:S.includes(e)?"co."+e:e}),[e])}(V);t=Y,n=s||(0,o.createRef)(),(0,o.useImperativeHandle)(n,(function(){return t.current})),J=null!==d&&void 0!==d?d:J,X=null!==C&&void 0!==C?C:X;var te=(0,r.CR)((0,o.useState)(!0),2),ne=te[0],re=te[1],oe=(0,o.useMemo)((function(){return q||location.href}),[q]),ie=(0,r.CR)((0,o.useState)(x),2),se=ie[0],ae=ie[1],ce=(0,o.useRef)({colorScheme:f,theme:F,retpath:oe}),ue=(0,o.useMemo)((function(){if(P)return"https://"+P;if("prod_yateam"===y)return"https://user-id.yandex-team.ru";var e=new URL(location.href).searchParams.get("user_id_host");return e?"https://"+e:"https://yandex."+ee}),[P,ee,y]),fe=(0,o.useMemo)((function(){se||ce.current.colorScheme===f&&ce.current.theme===F&&ce.current.retpath===oe||(ce.current={colorScheme:f,theme:F,retpath:oe});var e=new URL("user-id",ue);if(ce.current.retpath&&e.searchParams.set("encodedRetpath",encodeURIComponent(ce.current.retpath)),ce.current.colorScheme&&e.searchParams.set("colorScheme",ce.current.colorScheme),ce.current.theme&&e.searchParams.set("theme",ce.current.theme),k&&e.searchParams.set("l10n",k),Array.isArray(_)){var t=_.join(",");e.searchParams.set("exp_flags",t)}for(var n in N&&e.searchParams.set("project",N),y&&e.searchParams.set("env",y),e.searchParams.set("dir",p),H)e.searchParams.set(n,H[n]);for(var n in B)e.searchParams.set(n,B[n]);return e.toString()}),[ue,_,N,H,B,f,F,oe,se,y,p,k]);(0,o.useEffect)((function(){se||!x&&!O||ae(!0)}),[se,x,O]);var le=function(e){var t=e.touchBreakpointWidth,n=void 0===t?520:t,s=e.platform,a=void 0===s?"auto":s,c=(0,r.CR)((0,o.useState)(),2),u=c[0],f=c[1];return(0,o.useEffect)((function(){if("auto"===a){var e=window.matchMedia("(max-width: "+n+"px)");f(e.matches?"touch":"desktop")}else f(a)}),[n,a]),i((function(){if("auto"===a){var e=window.matchMedia("(max-width: "+n+"px)");return t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),function(){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}}function t(e){e.matches?f("touch"):f("desktop")}}),[u,f,n]),u}({platform:R,touchBreakpointWidth:K}),de=(0,o.useCallback)((function(){se||ae(!0)}),[se]),he=(0,o.useMemo)((function(){return null===c?null:"number"===typeof c?c:"touch"===le?c[1]:c[0]}),[le,c]),pe=(0,o.useCallback)((function(){var e;null===(e=Y.current)||void 0===e||e.focus(),null===j||void 0===j||j()}),[j]),me=(0,r.CR)((0,o.useState)(),2),ve=me[0],ye=me[1],ge=(0,r.CR)((0,o.useState)(Z),2),be=ge[0],we=ge[1];(0,o.useEffect)((function(){we(Z)}),[Z]);var _e=(0,o.useCallback)((function(e){if("desktop"!==le){var t=w();ye(t)}else ye(e)}),[le]);!function(e){var t=e.enabled,n=e.onHeightChange,s=(0,r.CR)((0,o.useState)(w()),2),a=s[0],c=s[1],u=(0,o.useCallback)((function(){var e=w();a!==e&&(c(w()),n(e))}),[a,n]);i((function(){if(t)return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[u,t])}({enabled:"touch"===le,onHeightChange:_e});var Ee=function(e){var t=e.loading,n=e.iframeRef,r=e.origin,i=(0,o.useCallback)((function(e){var t,r;null===(r=null===(t=n.current)||void 0===t?void 0:t.contentWindow)||void 0===r||r.postMessage(e,"*")}),[n]),s=(0,o.useRef)(new T(r,i));return(0,o.useEffect)((function(){var e=s.current.reciever;return e.start(),function(){return e.stop()}}),[]),(0,o.useEffect)((function(){n&&!t&&s.current.enableSender()}),[t,n]),s.current}({loading:ne,iframeRef:X,origin:ue}),Se=(0,o.useCallback)((function(e){O&&we(e),null===A||void 0===A||A()}),[O,A]),Oe=(0,o.useCallback)((function(){var e=Q.current;if("number"===typeof e.start&&"number"!==typeof e.end){e.end=b();var t=e.end-e.start;Ee.sender.sendTimeToInteractive(t)}}),[Ee]),Pe=(0,o.useCallback)((function(e){_e(e),re(!1)}),[_e]),Ce=(0,o.useCallback)((function(e){var t=e.item;null===D||void 0===D||D(t,e,{onClose:pe})}),[pe,D]),ke=(0,o.useCallback)((function(){null===pe||void 0===pe||pe()}),[pe]),Te=(0,o.useCallback)((function(e){null===M||void 0===M||M(e)}),[M]),je=(0,o.useCallback)((function(e){null===I||void 0===I||I(e)}),[I]),Ae=(0,o.useCallback)((function(e,t){var n;(null===W||void 0===W?void 0:W[e.methodCall])&&Promise.resolve(null===(n=null===W||void 0===W?void 0:W[e.methodCall])||void 0===n?void 0:n.call.apply(n,(0,r.fl)([W],e.params))).then(t)}),[W]);!function(e){var t=e.rpc,n=e.handlers,i=(0,o.useRef)(n);i.current=n,(0,o.useEffect)((function(){var e=t.reciever.onInit((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onInit.apply(e,(0,r.fl)(t))})),n=t.reciever.onDataLoad((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onDataLoad.apply(e,(0,r.fl)(t))})),o=t.reciever.onItemClick((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onItemClick.apply(e,(0,r.fl)(t))})),s=t.reciever.onClose((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onCloseUserID.apply(e,(0,r.fl)(t))})),a=t.reciever.onUpdateTheme((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onUpdateTheme.apply(e,(0,r.fl)(t))})),c=t.reciever.onUpdateLocale((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onUpdateLocale.apply(e,(0,r.fl)(t))})),u=t.reciever.onUnknownEvent((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onUnknownEvent.apply(e,(0,r.fl)(t))})),f=t.reciever.onUpdateUserHeight((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.current).onUpdateUserHeight.apply(e,(0,r.fl)(t))}));return t.enableReciever(),function(){e(),n(),o(),s(),a(),c(),u(),f()}}),[t])}({rpc:Ee,handlers:{onInit:Se,onDataLoad:Oe,onUpdateUserHeight:Pe,onItemClick:Ce,onCloseUserID:ke,onUpdateTheme:Te,onUpdateLocale:je,onUnknownEvent:Ae}}),(0,o.useEffect)((function(){Ee.sender.updateRetpath(oe)}),[oe,Ee]),(0,o.useEffect)((function(){Ee.sender.updateParams(B)}),[B,Ee]),(0,o.useEffect)((function(){Ee.sender.updateTheme(f,F)}),[f,Ee,F]);var De=(0,o.useCallback)((function(){$?(Ee.sender.focusFirstItem(!0),pe()):(se||ae(!0),Ee.sender.focusFirstItem(!1),null===L||void 0===L||L())}),[$,Ee,pe,se,L]),Le=(0,o.useMemo)((function(){var e=[J,Y];return g&&e.push(g),e}),[J,Y,g]);return function(e){var t=e.visible,n=e.onClose,r=e.essentialRefs,i=e.unsafe_strategy,s=void 0===i?"pressdown":i,a=(0,o.useRef)({onClose:n,refs:r,closeStrategy:s});a.current.onClose=n,a.current.refs=r,(0,o.useEffect)((function(){if(t){var e=a.current;return v.addOverlay(e),function(){v.removeOverlay(e)}}}),[t])}({visible:$,onClose:pe,essentialRefs:Le}),i((function(){var e,t;$&&(null!==(e=(t=Q.current).start)&&void 0!==e||(t.start=b()))}),[$]),{avatarProps:{avatarSize:he,env:y,onClick:De,onPointerEnter:de,platform:le,ref:Y,retpath:oe,userData:be,visible:$,tld:ee},contentProps:{colorScheme:f,height:ve,loading:ne,preload:se,ref:X,src:fe,width:"desktop"===le?320:"100%"},dialogProps:{className:l,colorScheme:f,platform:le,ref:J,visible:$,onClose:pe,loading:ne}}}},10654:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(46760),o=n(68174),i=n(78865),s=n(90555),a=n(45558),c=(0,r.Z)((function(e){return null!=e&&"function"===typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"===typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"===typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"===typeof e.constructor.empty?e.constructor.empty():(0,i.Z)(e)?[]:(0,a.Z)(e)?"":(0,s.Z)(e)?{}:(0,o.Z)(e)?function(){return arguments}():void 0})),u=c,f=n(40279),l=(0,r.Z)((function(e){return null!=e&&(0,f.Z)(e,u(e))}))},97764:function(){},64480:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return v}});var o=n(37667),i=n.n(o),s=n(20223),a=n.n(s),c=n(61059),u=n.n(c),f=n(94403),l=n.n(f),d=function(){function e(e,t,n){var r=this;this.nativeMediaQueryList=e.matchMedia(t),this.active=!0,this.cancellableListener=function(){r.matches=r.nativeMediaQueryList.matches,r.active&&n.apply(void 0,arguments)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}return e.prototype.cancel=function(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)},e}(),h=function(e){var t=e.query,n=e.queries,i=e.defaultMatches,s=e.targetWindow,a=e.onChange;!function(e){var t=e.query,n=e.queries,r=e.defaultMatches;t||n||t&&n||u()(!1),void 0!==r&&t&&"boolean"!==typeof r&&u()(!1),void 0!==r&&n&&"object"!==typeof r&&u()(!1)}({query:t,queries:n,defaultMatches:i});var c=(0,o.useRef)([]),f=function(){return function(e){var t=Object.keys(e);return 1===t.length&&"__DEFAULT__"===t[0]?e.__DEFAULT__:e}(c.current.reduce((function(e,t){var n,o=t.name,i=t.mqListener;return r({},e,((n={})[o]=i.matches,n))}),{}))},h=function(){v(f())},p=(0,o.useState)((function(){return"object"!==typeof window?void 0!==i?i:!!t||Object.keys(n).reduce((function(e,t){var n;return r({},e,((n={})[t]=!0,n))}),{}):(function(){var e=s||window;"function"!==typeof e.matchMedia&&u()(!1);var r=n||function(e){return{__DEFAULT__:e}}(t);c.current=Object.keys(r).map((function(t){var n=r[t],o="string"!==typeof n?l()(n):n;return{name:t,mqListener:new d(e,o,h)}}))}(),f())})),m=p[0],v=p[1];return(0,o.useEffect)((function(){return function(){return c.current.forEach((function(e){return e.mqListener.cancel()}))}}),[]),(0,o.useEffect)((function(){a&&a(m)}),[m,a]),m},p=function(e){var t=e.defaultMatches,n=e.query,r=e.queries,o=e.render,s=e.children,a=e.targetWindow,c=e.onChange,u=h({query:n,queries:r,defaultMatches:t,targetWindow:a,onChange:c}),f="object"===typeof u?Object.keys(u).some((function(e){return u[e]})):u;return o?f?o(u):null:s?"function"===typeof s?s(u):(!Array.isArray(s)||s.length)&&f?i().Children.only(s)&&"string"===typeof i().Children.only(s).type?i().Children.only(s):i().cloneElement(i().Children.only(s),{matches:u}):null:null},m=a().oneOfType([a().string,a().object,a().arrayOf(a().object.isRequired)]);p.propTypes={defaultMatches:a().oneOfType([a().bool,a().objectOf(a().bool)]),query:m,queries:a().objectOf(m),render:a().func,children:a().oneOfType([a().node,a().func]),targetWindow:a().object,onChange:a().func};var v=p},16731:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},8237:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(31950),o=n(76528);function i(e){return(0,o.$)(r.useCallback((function(t){return e.onNextChange((function n(){t(),e.onNextChange(n)}))}),[e]),e,e)}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/hd-www/release/_next/static/chunks/585-098bba9e695bade8.js.map